Search.setIndex({"docnames": ["api", "changes", "consumer", "contrib", "django", "guide", "imports", "index", "installation", "mini", "shared_resources", "signals", "troubleshooting"], "filenames": ["api.rst", "changes.rst", "consumer.rst", "contrib.rst", "django.rst", "guide.rst", "imports.rst", "index.rst", "installation.rst", "mini.rst", "shared_resources.rst", "signals.rst", "troubleshooting.rst"], "titles": ["Huey\u2019s API", "Changes in 2.0", "Consuming Tasks", "Huey Extensions", "Django", "Guide", "Understanding how tasks are imported", "huey", "Installing", "Mini-Huey", "Managing shared resources", "Signals", "Troubleshooting and Common Pitfalls"], "terms": {"most": [0, 2, 3, 4, 5, 12], "end": 0, "user": [0, 2, 5, 12], "interact": [0, 2, 3, 4, 5], "us": [0, 1, 5, 7, 9, 10, 11, 12], "two": [0, 1, 3, 4, 5], "decor": [0, 1, 2, 3, 4, 5, 6, 7, 9, 10, 12], "task": [0, 1, 7, 8, 9, 10, 11, 12], "periodic_task": [0, 1, 3, 4, 5, 6, 7, 9], "The": [0, 1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12], "document": [0, 2, 3, 5, 7, 9, 12], "follow": [0, 1, 2, 3, 4, 5, 11, 12], "structur": [0, 6], "py": [0, 2, 3, 4, 5, 6, 7, 8, 12], "modul": [0, 1, 2, 3, 4, 5, 6, 7, 12], "implement": [0, 1, 2, 3, 4, 5, 10, 11], "which": [0, 1, 2, 3, 4, 5, 6, 7, 9, 10, 11, 12], "handl": [0, 1, 2, 5, 7, 11], "persist": [0, 3, 9], "see": [0, 1, 2, 3, 4, 5, 7, 10, 11, 12], "list": [0, 1, 2, 3, 4, 5, 11], "initi": [0, 1, 2, 10, 11, 12], "paramet": [0, 1, 2, 3, 4, 5, 6, 9], "common": [0, 5, 7], "all": [0, 1, 2, 3, 4, 5, 6], "If": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12], "you": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12], "have": [0, 1, 2, 5, 10, 12], "busi": [0, 5], "applic": [0, 2, 3, 4, 5, 9, 10, 12], "plan": [0, 1, 2, 3, 4, 9, 11], "switch": [0, 1, 2, 5], "from": [0, 2, 3, 4, 6, 7, 8, 9, 10, 11, 12], "one": [0, 2, 5, 10, 11], "redi": [0, 1, 2, 3, 4, 5, 7, 8], "anoth": [0, 5, 10, 11], "e": [0, 1, 2, 3, 4, 5, 9, 11], "g": [0, 1, 2, 3, 4, 5, 9, 11], "redishuei": [0, 1, 3, 4, 5, 6, 7, 10, 12], "priorityredishuei": [0, 1, 3, 4, 5], "mai": [0, 2, 3, 5, 9, 10, 11, 12], "want": [0, 2, 3, 4, 5, 8, 9], "start": [0, 2, 3, 4, 5, 6, 9, 10, 12], "new": [0, 1, 2, 3, 5, 9], "consum": [0, 1, 5, 6, 9, 10, 11, 12], "differ": [0, 1, 2, 5, 12], "databas": [0, 2, 3, 4, 5, 9, 10, 11], "db": [0, 2, 3, 4, 5, 10], "15": [0, 2, 3, 4, 5], "Then": [0, 2], "let": [0, 5], "your": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 12], "old": [0, 1], "drain": 0, "ani": [0, 1, 2, 3, 4, 5, 6, 9, 10, 11, 12], "pre": [0, 2, 7, 11, 12], "exist": 0, "while": [0, 2, 3, 4, 5, 11], "accept": [0, 1, 3, 4, 5, 10], "class": [0, 1, 3, 9], "util": [0, 1, 8], "queue": [0, 1, 2, 3, 4, 5, 6, 7, 9], "requir": [0, 1, 2, 3, 4, 5, 6, 8], "commonli": 0, "keyword": [0, 1, 5], "argument": [0, 1, 5, 6, 10, 11], "configur": [0, 1, 2, 5, 12], "block": [0, 1, 2, 3, 4, 5, 6, 7, 10, 11, 12], "bool": 0, "pop": [0, 1, 3, 4, 5], "when": [0, 1, 2, 3, 4, 5, 6, 9, 10, 11, 12], "read": [0, 1, 2, 3, 4, 6, 7, 9], "oppos": [0, 12], "poll": [0, 1, 2, 3, 4, 5], "default": [0, 1, 2, 3, 4, 5, 7, 10, 12], "i": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], "true": [0, 1, 3, 4, 5, 6, 7, 10, 11, 12], "connection_pool": [0, 3, 4], "connectionpool": [0, 3, 4], "instanc": [0, 1, 2, 5, 6, 9, 10, 11], "url": [0, 3, 4, 7, 9], "connect": [0, 2, 3, 4, 5, 10, 11], "host": [0, 3, 4, 7], "hostnam": 0, "server": [0, 3, 4, 5, 9, 12], "port": [0, 3, 4], "number": [0, 1, 2, 3, 4, 5, 9], "password": 0, "int": [0, 3, 5, 9], "typic": [0, 2, 3, 5, 9], "0": [0, 2, 3, 4, 5, 7, 9, 11], "contain": [0, 3, 4, 5, 6, 12], "complet": [0, 3, 4, 5, 11], "support": [0, 1, 2, 3, 4, 5, 7, 12], "client": [0, 10], "doe": [0, 2, 3, 4, 5, 12], "prioriti": [0, 1, 3, 4, 7], "wish": [0, 2, 3, 5, 9, 12], "store": [0, 1, 2, 3, 4, 5, 9, 10, 12], "pend": [0, 5], "ar": [0, 1, 2, 3, 4, 5, 7, 8, 9, 10, 11, 12], "natur": 0, "fit": 0, "thei": [0, 1, 2, 3, 4, 5, 10, 12], "offer": [0, 5], "o": [0, 2, 3, 4, 12], "1": [0, 2, 3, 4, 5, 6, 7, 9, 11], "append": 0, "either": [0, 2, 3, 4, 5], "also": [0, 1, 3, 4, 5, 10, 12], "provid": [0, 1, 2, 3, 4, 5, 9, 10], "command": [0, 3, 4, 5], "allow": [0, 2, 3, 4, 5], "react": 0, "messag": [0, 1, 2, 3, 5, 6, 9, 10, 12], "soon": 0, "avail": [0, 2, 5, 8], "without": [0, 2, 3, 5, 9], "resort": 0, "redisstorag": 0, "same": [0, 1, 3, 4, 5, 9, 10, 11], "5": [0, 1, 3, 4, 5, 7], "newer": [0, 1, 3, 4, 5], "sort": [0, 5], "set": [0, 1, 2, 5, 12], "consist": [0, 2], "uniqu": [0, 5], "valu": [0, 2, 3, 4, 5, 10, 12], "numer": 0, "score": 0, "In": [0, 1, 2, 3, 4, 5, 10], "addit": [0, 2, 3, 4, 5, 9, 10, 11], "being": [0, 1, 2, 5, 11, 12], "order": [0, 1, 2, 5], "item": 0, "within": [0, 2, 10], "lexicograph": 0, "take": [0, 3, 4, 5, 7, 9], "advantag": 0, "characterist": 0, "ad": [0, 2, 5, 11], "zpopmin": 0, "lowest": 0, "bzpopmin": 0, "varieti": 0, "redisexpirehuei": [0, 3, 4, 5], "ident": 0, "wai": [0, 3, 4, 5, 6, 10, 12], "keep": [0, 3, 5, 9], "hash": [0, 5], "whenev": [0, 3, 9], "via": [0, 1, 2, 3, 4, 5], "remov": [0, 1], "thi": [0, 1, 2, 3, 4, 5, 6, 7, 9, 10, 11, 12], "done": 0, "prevent": [0, 2, 5, 11], "grow": [0, 2], "bound": [0, 2, 7, 8, 12], "addition": [0, 2, 5, 12], "help": 0, "avoid": [0, 1, 3, 4, 5, 6], "clutter": 0, "up": [0, 2, 5, 6, 7, 9, 12], "keyspac": 0, "less": [0, 2, 5], "ram": 0, "kei": [0, 3, 4, 5], "themselv": 0, "approach": [0, 1, 10], "ordinari": 0, "special": [0, 1, 3, 4, 5, 7, 10], "prefix": 0, "given": [0, 2, 3, 5, 7, 9, 10], "time": [0, 1, 2, 3, 4, 5, 7, 11, 12], "live": [0, 1, 3, 4, 5], "expir": [0, 3, 4, 7, 11], "automat": [0, 3, 4, 5, 7, 9, 10, 11], "necess": 0, "after": [0, 2, 5, 7, 10, 11], "onc": [0, 3, 4, 5, 7, 10], "expire_tim": [0, 5], "second": [0, 2, 3, 4, 5, 9, 11], "86400": [0, 5], "dai": [0, 1, 5, 10], "sqlitehuei": [0, 1, 3, 4, 5], "sqlite3": 0, "onli": [0, 1, 2, 3, 4, 5, 9, 10, 12], "standard": [0, 3, 4, 5, 8], "librari": [0, 2, 3, 4, 5, 8], "filenam": [0, 3, 4, 5], "str": [0, 3, 9], "cache_mb": 0, "megabyt": 0, "memori": [0, 1, 2, 5, 6, 7, 12], "sqlite": [0, 3, 4, 5, 7], "page": [0, 7], "cach": [0, 5], "fsync": 0, "durabl": 0, "write": [0, 1, 2, 5, 10], "slower": 0, "more": [0, 1, 2, 3, 4, 7, 12], "resili": 0, "corrupt": 0, "event": [0, 1, 2, 5], "sudden": 0, "power": [0, 2], "loss": 0, "fals": [0, 1, 3, 4, 5, 12], "fulli": [0, 5], "sqlitestorag": 0, "memoryhuei": [0, 5], "should": [0, 1, 2, 3, 4, 5, 9, 10, 11], "test": [0, 1, 3, 4, 5, 6, 8, 12], "immedi": [0, 1, 2, 3, 4, 7, 9, 12], "mode": [0, 1, 3, 4, 7], "filehuei": [0, 3, 4, 5], "file": [0, 2, 3, 4, 5, 7, 9, 11, 12], "system": [0, 1, 3, 4, 5, 7], "high": 0, "throughput": [0, 2], "highli": 0, "concurr": [0, 2, 3, 5, 9], "environ": [0, 3, 4, 12], "filestorag": 0, "exclus": [0, 5], "lock": [0, 2, 7, 11, 12], "around": [0, 1, 2, 3, 4, 5], "oper": [0, 1, 2, 5], "path": [0, 1, 2, 3, 4, 5, 6], "base": [0, 2, 3, 4, 5, 9], "data": [0, 1, 5, 11], "schedul": [0, 1, 2, 3, 4, 7, 9, 11, 12], "sub": [0, 1], "directori": [0, 2, 3, 4, 5], "level": [0, 3, 4, 5], "ensur": [0, 2, 5, 11, 12], "an": [0, 1, 2, 3, 4, 5, 6, 10, 11, 12], "unmanag": 0, "use_thread_lock": 0, "lib": 0, "thread": [0, 1, 2, 3, 4, 5, 7, 9, 10, 11, 12], "instead": [0, 1, 3, 5, 7, 9, 10], "lockfil": 0, "enabl": [0, 1, 3, 4, 5], "greenlet": [0, 2, 3, 4, 5, 7, 8, 9, 11, 12], "worker": [0, 1, 3, 4, 5, 7, 8, 10, 11, 12], "model": [0, 2, 7], "name": [0, 1, 2, 3, 4, 5, 7, 9, 11], "store_non": [0, 3, 4, 12], "utc": [0, 1, 3, 4, 12], "none": [0, 3, 4, 5, 9, 10, 11, 12], "compress": [0, 1], "use_zlib": 0, "immediate_use_memori": [0, 3, 4, 5], "storage_kwarg": 0, "whether": [0, 3, 4, 5, 9, 12], "intern": [0, 1, 3, 4, 7, 12], "convert": [0, 12], "naiv": [0, 12], "datetim": [0, 1, 5, 10, 12], "local": [0, 1, 3, 4, 10, 12], "other": [0, 1, 2, 3, 4, 5, 9, 10, 11], "than": [0, 2, 3, 4, 5, 8, 10], "debug": [0, 2, 5], "caus": [0, 5, 11, 12], "execut": [0, 1, 2, 5, 6, 7, 9, 11], "synchron": [0, 1, 5, 11], "pickl": [0, 1], "zlib": 0, "gzip": [0, 1], "backend": [0, 2, 5], "arbitrari": 0, "pass": [0, 1, 3, 5, 9, 10, 11], "expos": [0, 3, 4], "function": [0, 1, 2, 3, 4, 6, 7, 9, 10, 12], "call": [0, 1, 2, 3, 4, 5, 6, 7, 9, 10, 11, 12], "enqueu": [0, 1, 2, 3, 4, 5, 7, 9], "need": [0, 1, 3, 4, 5, 8, 9, 10, 12], "can": [0, 1, 2, 3, 4, 5, 7, 8, 9, 10, 11, 12], "mani": [0, 5, 10], "like": [0, 2, 3, 4, 5, 6, 7, 9], "caveat": 0, "process": [0, 2, 3, 4, 5, 7, 9, 10, 11], "must": [0, 2, 3, 4, 5, 6], "each": [0, 2, 5, 10, 11], "exampl": [0, 5, 7, 9, 10, 12], "usag": [0, 2, 3, 5, 9], "demo": [0, 5, 7], "import": [0, 1, 2, 3, 4, 5, 7, 9, 10, 11, 12], "creat": [0, 1, 2, 5], "my": [0, 2, 3, 4, 5, 7], "app": [0, 2, 3, 4, 5, 6, 7, 9], "def": [0, 3, 4, 5, 6, 7, 9, 10, 11], "add_numb": [0, 7], "b": [0, 2, 3, 4, 5, 6, 7, 11], "return": [0, 1, 2, 3, 4, 5, 6, 7, 9, 10, 11, 12], "crontab": [0, 1, 3, 4, 5, 7, 9], "minut": [0, 1, 2, 3, 4, 5, 7, 9], "hour": [0, 1, 3, 5, 7, 9], "2": [0, 2, 3, 4, 5, 6, 7, 11], "nightly_report": 0, "generate_nightly_report": 0, "To": [0, 1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12], "run": [0, 1, 2, 6, 8, 9, 10, 11, 12], "4": [0, 2, 3, 4, 5, 7, 9, 11], "huey_consum": [0, 2, 5, 6, 7, 12], "w": [0, 2, 3, 4, 7], "add": [0, 3, 4, 5, 6, 11, 12], "re": [0, 2, 5, 7, 11], "until": [0, 2, 3, 5, 7, 9, 11], "3": [0, 2, 5, 7, 11], "code": [0, 1, 2, 3, 4, 5, 7, 8, 10, 12], "so": [0, 1, 2, 3, 5, 7, 9, 10, 11, 12], "properti": [0, 1], "disabl": [0, 1, 2, 3, 4, 5], "caller": [0, 5], "make": [0, 1, 2, 3, 4, 5, 6, 9, 10], "veri": [0, 2, 3, 5, 6, 8, 9, 12], "develop": [0, 1, 3, 4, 5], "still": [0, 2, 3, 4, 5], "itself": [0, 1, 2, 5, 6], "By": [0, 2, 5], "accident": [0, 1, 5, 12], "specifi": [0, 1, 2, 3, 4, 5, 12], "now": [0, 1, 5, 10], "retri": [0, 1, 2, 3, 7, 9, 11], "retry_delai": [0, 5, 7, 11], "context": [0, 1, 2, 5, 10], "kwarg": [0, 5], "unhandl": [0, 1, 5, 10, 11], "occur": [0, 1, 2, 5, 6, 10, 12], "wait": [0, 2, 3, 5, 9], "between": [0, 2, 5, 7], "assign": [0, 3, 4, 5], "higher": 0, "first": [0, 1, 3, 4, 5, 10, 11, 12], "backlog": 0, "includ": [0, 2, 5, 11], "plu": 0, "befor": [0, 2, 3, 4, 5, 9, 10, 11], "discard": [0, 5, 12], "integ": 0, "timedelta": [0, 5], "For": [0, 1, 2, 3, 4, 5, 7, 9, 10, 11, 12], "rel": [0, 5], "resolv": [0, 5], "taskwrapp": [0, 3, 5, 9], "wrap": [0, 5, 10], "mark": 0, "do": [0, 2, 3, 4, 5, 9], "suitabl": [0, 3, 5, 9], "check": [0, 2, 3, 4, 5, 7, 9, 12], "revok": [0, 1, 2, 3, 4, 5, 11], "assum": [0, 5, 11], "hasn": 0, "t": [0, 1, 2, 3, 5, 9], "yet": [0, 5, 11], "reschedul": [0, 1], "instanti": [0, 1, 5, 12], "inform": [0, 1, 2, 3, 4, 5, 7, 12], "section": [0, 2, 3, 4, 12], "guid": [0, 7], "method": [0, 1, 3, 4, 5, 9, 11], "These": [0, 2, 3, 4, 10], "futur": [0, 3, 5, 7, 9, 11], "chain": [0, 5, 7], "form": [0, 5], "pipelin": [0, 1, 7], "actual": [0, 1, 2, 3, 4, 5], "dequeu": [0, 5, 11], "6b6f36fc": [0, 7], "da0d": [0, 7], "4069": [0, 7], "b46c": [0, 7], "c0d4ccff1df6": [0, 7], "further": 0, "illustr": [0, 11], "point": [0, 2, 5, 6], "slow": [0, 2, 5, 11], "n": [0, 2, 5, 10], "sleep": 0, "we": [0, 2, 3, 4, 5, 10, 11], "howev": [0, 1, 5], "finish": [0, 2, 3, 4, 5, 7, 9, 10, 11, 12], "10": [0, 2, 3, 4, 5, 7, 11], "depend": [0, 1, 2, 8, 11], "some": [0, 2, 5, 10, 11, 12], "case": [0, 1, 2, 5, 7, 11, 12], "receiv": [0, 2], "print_a_task_id": 0, "print": [0, 3, 4, 5, 6, 10, 11], "id": [0, 1, 5, 10, 11], "hello": 0, "goodby": 0, "would": [0, 2, 5, 10, 11], "someth": [0, 3, 5, 9], "e724a743": 0, "e63": 0, "4400": 0, "ac07": 0, "78a2fa242b41": 0, "606f36fc": 0, "sure": [0, 2, 3, 5, 6, 9, 12], "understand": [0, 2, 7], "evalu": 0, "validate_datetim": 0, "specif": [0, 1, 3, 4, 5], "interv": [0, 2, 3, 4, 5, 9], "cron": [0, 2], "boolean": [0, 1, 5], "send": [0, 2, 3, 5, 9, 11], "per": [0, 5], "give": [0, 2, 5], "granular": [0, 2], "simplic": 0, "quickli": [0, 2, 5, 12], "It": [0, 2, 3, 4, 5, 6, 11, 12], "describ": [0, 3, 4, 5], "below": [0, 3, 4, 5], "here": [0, 2, 3, 4, 5, 11], "how": [0, 1, 2, 5, 7, 9, 11, 12], "might": [0, 2, 3, 4, 5, 7, 8, 9, 10, 11], "helper": [0, 3, 4, 10], "everi": [0, 2, 3, 4, 5, 10, 11], "three": [0, 2, 5, 10], "update_fe": 0, "feed": 0, "my_list_of_fe": 0, "fetch_feed_data": 0, "becaus": [0, 2, 3, 4, 5, 6, 7, 10, 12], "meant": 0, "isol": 0, "nor": [0, 3, 9], "expect": [0, 5, 11], "meaning": [0, 5], "period": [0, 2, 3, 4, 7, 9], "restor": [0, 3, 4, 5], "paus": [0, 7], "its": [0, 2, 5, 10], "primarili": 0, "due": [0, 1, 2, 3, 4, 11], "fact": [0, 5], "obviou": [0, 5], "sinc": [0, 1, 2, 3, 4, 5, 10], "invoc": [0, 5], "happen": [0, 1, 2, 5, 10, 11, 12], "insid": [0, 3, 4, 5, 9, 10, 12], "As": [0, 1, 5, 10, 11], "could": [0, 1, 5], "own": [0, 2, 10], "directli": [0, 2, 3, 4, 5], "my_task": 0, "work": [0, 1, 2, 3, 5, 6, 7, 9, 10, 11], "do_someth": 0, "manual": [0, 2], "put": [0, 2, 5, 6], "some_data_to_stor": 0, "info": [0, 2], "get": [0, 1, 2, 5, 6, 9, 10, 11, 12], "context_task": [0, 10], "obj": 0, "manag": [0, 2, 3, 4, 5, 7, 9, 11, 12], "as_argu": 0, "extend": [0, 5], "roughli": 0, "equival": [0, 5], "postgresqldatabas": [0, 10], "without_context_task": 0, "with_context_task": 0, "pre_execut": [0, 3, 4, 5, 10], "option": [0, 1, 3, 4, 7, 10, 12], "hook": [0, 5, 7, 11], "regist": [0, 1, 2, 5, 6, 10, 11], "callback": [0, 5, 10, 11], "cancel": [0, 7, 10, 11], "rais": [0, 5, 6, 10, 11], "cancelexecut": [0, 5, 10, 11], "uncaught": [0, 5], "log": [0, 2, 3, 4, 7, 10, 12], "singl": [0, 2, 3, 4, 5, 6, 7], "ignor": 0, "my_pre_execute_hook": 0, "weekdai": [0, 10], "6": [0, 5, 10], "sundai": [0, 5, 10], "unregister_pre_execut": 0, "name_or_fn": 0, "unregist": [0, 11], "post_execut": [0, 3, 4, 10], "post": [0, 7, 11], "effect": 0, "overal": [0, 11], "wa": [0, 1, 2, 5, 6, 10, 11], "dure": [0, 1, 2, 5], "normal": [0, 5], "my_post_execute_hook": 0, "task_valu": [0, 10], "exc": [0, 5, 10, 11], "unregister_post_execut": 0, "on_startup": [0, 3, 4, 10], "startup": [0, 2, 7], "come": [0, 3, 4], "onlin": [0, 8], "simplifi": [0, 3, 4], "share": [0, 5, 7, 11], "resourc": [0, 5, 7, 11], "whatev": [0, 2, 3, 9], "reason": [0, 2, 10], "side": 0, "postgr": [0, 10], "spawn": [0, 3, 9], "ll": [0, 5, 11], "error": [0, 1, 2, 5, 10, 11, 12], "attempt": [0, 1, 2, 5, 11], "child": 0, "problem": [0, 5, 12], "db_connect": 0, "setup_db_connect": 0, "global": [0, 1, 2], "psycopg2": 0, "my_db": 0, "write_data": 0, "row": 0, "cursor": 0, "unregister_on_startup": 0, "on_shutdown": 0, "shutdown": [0, 7], "goe": [0, 5, 11], "offlin": 0, "clean": [0, 7], "unregister_on_shutdown": 0, "signal": [0, 1, 3, 4, 7], "zero": 0, "handler": [0, 1, 2, 5, 10, 11], "attach": [0, 2, 5], "sent": [0, 5, 11], "found": [0, 2, 5, 12], "signal_error": [0, 5, 11], "signal_lock": [0, 11], "task_not_run_handl": 0, "respons": [0, 2, 5, 11], "locekd": 0, "note": [0, 2, 3, 4, 5, 12], "third": [0, 1, 5, 11], "disconnect_sign": [0, 3, 4, 11], "disconnect": [0, 11], "stop": [0, 3, 9, 11], "been": [0, 1, 2, 5, 11], "access": [0, 5], "well": [0, 2, 5, 12], "thing": [0, 1, 6, 9], "resultgroup": [0, 1, 5], "encapsul": [0, 5], "individu": [0, 1, 2, 5], "unless": 0, "necessari": [0, 3, 4, 12], "ha": [0, 1, 2, 5, 8, 10, 11, 12], "revoke_until": [0, 5], "revoke_onc": [0, 1, 5], "revoke_by_id": [0, 3, 4], "task_id": [0, 1], "date": 0, "revoc": [0, 1, 3, 9], "revoke_al": [0, 3, 4], "task_class": 0, "restore_by_id": [0, 3, 4], "indic": [0, 2, 5], "success": [0, 2], "successfulli": [0, 11], "restore_al": [0, 3, 4], "is_revok": [0, 3, 4, 5], "timestamp": [0, 5], "timeout": [0, 3, 4, 5], "backoff": [0, 2, 3, 4], "max_delai": [0, 3, 4], "revoke_on_timeout": 0, "preserv": [0, 5], "identifi": 0, "amount": [0, 2], "delai": [0, 1, 2, 3, 5, 7, 9, 11], "iter": [0, 5], "loop": [0, 2], "maximum": [0, 2], "fetch": [0, 3, 7, 9], "therebi": 0, "retriev": [0, 5], "ordinarili": 0, "simpli": [0, 2, 3, 4, 5, 9], "readi": [0, 2, 3, 5, 9, 11], "back": [0, 1, 2, 5], "off": [0, 2, 5], "reach": 0, "hueyexcept": [0, 6, 12], "wrapper": [0, 2, 5], "fail": [0, 1, 2, 7, 10, 11], "taskexcept": [0, 5, 11], "origin": [0, 1, 5], "delet": 0, "intend": [0, 5], "multipl": [0, 2, 3, 4, 5], "lock_task": [0, 3, 4, 5], "lock_nam": 0, "tasklock": 0, "simpl": [0, 2, 3, 5, 7, 9, 11], "design": [0, 1, 3, 4], "place": [0, 1, 2, 3, 4, 5], "abov": [0, 2, 3, 4, 5, 10], "declar": [0, 3, 5, 9], "cannot": [0, 2, 5, 12], "acquir": [0, 5, 10, 11], "tasklockedexcept": [0, 5], "report": [0, 2, 5], "generate_report": [0, 5], "longer": [0, 1, 5], "gener": [0, 2, 3, 5, 6, 9], "kick": [0, 5], "previou": [0, 1, 5, 10], "run_report": [0, 5], "backup": [0, 5], "do_code_backup": [0, 5], "do_db_backup": [0, 5], "is_lock": 0, "held": 0, "flush_lock": 0, "flush": [0, 2], "were": [0, 1, 2, 5], "subsequ": 0, "clear": [0, 2], "top": [0, 1, 2, 5, 12], "possibl": [0, 2, 3, 4, 5], "nest": 0, "scope": 0, "undiscov": 0, "explicitli": [0, 3, 4, 5, 10], "under": 0, "peek": [0, 5], "non": [0, 3, 4, 12], "destruct": 0, "limit": [0, 2, 3, 9], "all_result": 0, "dict": [0, 3, 4, 5], "pair": 0, "__len__": 0, "current": [0, 1, 2, 5, 10], "func": 0, "task_bas": 0, "A": [0, 2, 3, 4, 5, 7, 9], "upon": [0, 10], "failur": 0, "determin": 0, "constructor": 0, "defin": [0, 2, 3, 4, 5], "replac": [0, 1, 5], "request": [0, 3, 9], "appropri": [0, 5], "arg": [0, 5], "eta": [0, 1, 5], "tupl": [0, 5], "one_hour": 0, "check_fe": 0, "url1": 0, "url2": 0, "url3": 0, "rather": [0, 3, 4, 5, 8, 10], "3600": [0, 5], "next": [0, 2, 5, 11], "again": [0, 5, 11], "superced": 0, "restrict": 0, "skip": [0, 5], "send_email": [0, 5], "24": 0, "tomorrow": 0, "respect": [0, 2], "rule": [0, 5], "call_loc": [0, 5], "bypass": 0, "logic": [0, 1], "word": 0, "underli": [0, 3, 4], "overrid": [0, 5], "repres": [0, 5], "distinct": 0, "behind": [0, 6], "scene": [0, 6], "add_task": [0, 5], "etc": [0, 2, 5, 6, 12], "map": [0, 5], "rg": 0, "rang": [0, 5], "12": [0, 5], "20": [0, 3, 4, 5], "30": [0, 3, 5, 9], "42": [0, 5], "56": [0, 5], "72": [0, 5], "90": [0, 5], "on_complet": 0, "on_error": 0, "uuid": 0, "deseri": 0, "refresh": 0, "ret": 0, "line": [0, 2, 3, 4], "task_inst": 0, "parent": [0, 5], "lot": [0, 1, 2], "unix": 0, "pipe": [0, 5], "along": [0, 6, 10], "result_group": [0, 5], "updat": [0, 5], "likewis": [0, 5], "fibonacci": [0, 5], "calcul": [0, 5], "fib": [0, 5], "similar": [0, 3, 9], "construct": 0, "month": [0, 1, 5], "day_of_week": [0, 5], "strict": 0, "style": 0, "match": [0, 1, 5], "forth": 0, "week": [0, 1], "saturdai": [0, 5], "input": [0, 5], "8": [0, 2, 5], "16": [0, 2, 5], "m": [0, 2, 3, 4, 5], "valueerror": [0, 5, 11], "format": [0, 1, 2, 5, 12], "frequent": [0, 3, 9], "desir": 0, "encount": [0, 2, 12], "emit": [0, 2], "kill": [0, 2], "hold": 0, "altern": [0, 2, 3, 4, 5, 7, 12], "f": [0, 2], "begin": [0, 2, 5], "although": [0, 5], "probabl": [0, 3, 9], "never": [0, 2, 5], "yourself": 0, "talk": 0, "what": [0, 2, 5, 11], "isn": 0, "about": [0, 1, 3, 5, 9, 10, 11], "100": [0, 3, 4], "200": 0, "imagin": [0, 5], "omit": [0, 10], "traceback": [0, 2, 10], "recent": [0, 1], "last": [0, 5], "stdin": 0, "home": 0, "charl": 0, "tmp": [0, 5], "src": 0, "46": 0, "No": [0, 5, 10], "300": [0, 5], "684": 0, "metadata": 0, "correspond": [0, 11], "both": [0, 1, 3, 4, 5, 6], "__call__": 0, "shortcut": 0, "chang": [0, 5, 7], "mind": 0, "alreadi": [0, 5, 10], "particular": [0, 5], "made": [0, 1], "verifi": [0, 5], "neither": 0, "reset": [0, 2, 5, 11], "conveni": [0, 5, 10], "bulk": 0, "group": [0, 5], "compression_level": 0, "least": [0, 2, 3, 4], "9": [0, 5], "interfac": [0, 1], "transpar": 0, "elsewher": 0, "_serial": 0, "python": [0, 2, 3, 4, 5, 7, 8, 12], "rtype": 0, "byte": 0, "_deseri": 0, "configurationerror": 0, "shall": 0, "bodi": [0, 5, 10], "even": [0, 2, 5], "remain": [0, 1, 5], "similarli": [0, 5], "regardless": [0, 3, 4, 5, 9], "retrytask": [0, 5], "forc": [0, 5], "irrespect": 0, "sever": 0, "built": [0, 1], "read_timeout": [0, 3, 4], "client_nam": 0, "connection_param": 0, "perform": [0, 2, 3, 4, 5, 10], "redisexpirestorag": 0, "ttl": 0, "subclass": 0, "unread": 0, "benefit": [0, 2], "orderli": 0, "downsid": 0, "build": 0, "over": [0, 2, 3, 4, 5], "trade": 0, "sprawl": 0, "priorityredisstorag": 0, "engin": [0, 1, 3, 4], "priorityredisexpirestorag": 0, "combin": [0, 5], "strict_fifo": 0, "size": [0, 3, 9], "synchon": 0, "greater": [0, 2], "safeti": 0, "journal_mod": 0, "journal": 0, "ahead": 0, "reader": 0, "coexist": 0, "writer": [0, 5], "behav": 0, "fifo": 0, "reus": 0, "rowid": 0, "unus": [0, 5], "Will": [0, 5, 7], "layer": [0, 5, 12], "race": 0, "condit": [0, 11], "memorystorag": 0, "blackholestorag": 0, "written": [0, 2, 5, 7], "thu": [0, 5, 6], "alwai": [0, 2, 3, 5, 9], "appear": [0, 10, 12], "empti": [0, 1], "basestorag": 0, "queue_siz": 0, "enqueued_item": 0, "flush_queu": 0, "add_to_schedul": 0, "read_schedul": 0, "schedule_s": 0, "scheduled_item": 0, "flush_schedul": 0, "put_data": 0, "peek_data": 0, "pop_data": 0, "put_if_empti": 0, "has_data_for_kei": 0, "result_store_s": 0, "result_item": 0, "flush_result": 0, "releas": [1, 5, 7], "huei": [1, 2, 5, 6, 8, 10, 11, 12], "mostli": [1, 5, 7], "api": [1, 3, 4, 5, 7, 9, 10, 11], "compat": 1, "version": [1, 2, 3, 4, 7], "alter": 1, "improv": [1, 5], "serial": [1, 5, 7], "backward": 1, "older": 1, "guarante": [1, 5], "always_eag": 1, "renam": [1, 2], "impli": [1, 2], "storag": [1, 3, 4, 7, 8, 12], "greatli": 1, "previous": 1, "variou": [1, 2, 11], "particularli": 1, "easili": [1, 2, 5], "confus": 1, "v": [1, 2, 3, 4, 5], "localtim": 1, "convers": 1, "hopefulli": 1, "easier": [1, 3, 4], "think": 1, "don": [1, 3, 5, 9], "": [1, 2, 3, 4, 5, 6, 7, 10, 11, 12], "bit": 1, "dedic": [1, 5], "listen": [1, 2], "pub": 1, "separ": [1, 2, 3, 5, 9, 11], "except": [1, 5, 7, 10, 11, 12], "result": [1, 2, 3, 4, 5, 6, 7, 9, 11, 12], "introspect": 1, "continu": 1, "dev": 1, "full": [1, 3, 4, 5], "result_stor": 1, "store_error": 1, "maintain": [1, 2], "max_error": 1, "global_registri": 1, "registri": [1, 5, 6], "control": [1, 2, 5], "interpret": [1, 2, 5], "spread": 1, "across": 1, "flag": [1, 5], "object": [1, 2, 5, 6, 7, 10, 12], "runtim": [1, 2, 5], "emitt": 1, "relat": [1, 5], "gone": 1, "track": 1, "retries_as_argu": 1, "include_task": 1, "attribut": [1, 5, 12], "redund": [1, 10], "taskresultwrapp": 1, "leav": 1, "linux": 1, "miscellan": 1, "visibl": 1, "latenc": [1, 5], "reduc": [1, 2, 5], "chatter": 1, "go": [1, 2], "parti": 1, "move": [1, 11], "main": [1, 2, 3, 6, 9, 12], "minihuei": [1, 3, 9], "contrib": [1, 3, 4, 9], "mini": [1, 7], "simplestorag": 1, "django": [1, 2, 7, 12], "backend_class": 1, "huey_class": [1, 3, 4], "blog": 2, "logfil": [2, 5, 12], "concept": 2, "sourc": [2, 8], "few": [2, 7], "question": 2, "quit": [2, 5, 7], "dot": [2, 5], "try": [2, 5, 11, 12], "troubl": 2, "though": [2, 3, 4, 12], "pythonpath": [2, 12], "dir": 2, "config": [2, 3, 4, 6], "supervisord": 2, "root": 2, "site": 2, "hack": 2, "sy": [2, 3, 4], "intermediari": 2, "shell": [2, 5, 12], "script": [2, 3, 4, 12], "interfer": 2, "supervisor": 2, "abil": 2, "termin": 2, "discuss": 2, "github": [2, 8], "issu": [2, 5], "88": 2, "tabl": 2, "l": [2, 5], "indefinit": 2, "tool": 2, "logrot": 2, "loglevel": 2, "verbos": [2, 3, 4, 5, 12], "consol": [2, 5], "conflict": [2, 3, 4], "q": [2, 5], "quiet": [2, 5], "minim": [2, 5], "h": 2, "increas": [2, 5, 12], "small": 2, "workload": [2, 3, 4, 5], "just": [2, 3, 4, 5, 9, 10, 11], "ti": 2, "cpu": [2, 3, 4, 8, 9, 12], "intens": [2, 3, 4, 9], "core": [2, 3, 4], "2x": 2, "lastli": [2, 5], "ten": [2, 3, 4], "hundr": [2, 3, 4], "extrem": [2, 3, 4, 12], "lightweight": [2, 3, 4, 7, 9], "k": [2, 3, 4, 7], "choos": 2, "better": 2, "heavi": [2, 3, 4], "load": [2, 3, 4, 7, 12], "simultan": 2, "leverag": 2, "content": 2, "io": [2, 3, 4, 7, 8], "crawl": 2, "websit": 2, "spend": 2, "socket": [2, 3, 4], "huge": 2, "boost": 2, "cheap": 2, "term": 2, "larg": [2, 3, 5, 9], "empt": 2, "tradeoff": 2, "jump": 2, "anyth": [2, 3, 5, 6, 9], "els": [2, 3, 5, 6, 9, 12], "emptiv": [2, 12], "multi": [2, 7, 12], "overhead": [2, 3, 9], "safe": 2, "choic": [2, 3, 5, 9], "featur": [2, 3, 4, 5, 10], "feel": 2, "free": 2, "save": [2, 3, 4, 10], "cycl": 2, "d": [2, 3, 4], "multipli": [2, 5], "max": [2, 3, 4], "weight": 2, "doesn": 2, "action": 2, "rate": [2, 3, 4], "look": [2, 5, 6, 7], "c": 2, "health": [2, 3, 4], "often": 2, "statu": [2, 5], "di": 2, "person": 2, "dozen": 2, "suppos": [2, 5, 10], "sorri": 2, "had": 2, "experi": 2, "stai": 2, "But": 2, "critic": 2, "insur": 2, "monitor": [2, 5], "At": [2, 5, 12], "comfort": 2, "sai": 2, "perfectli": 2, "fine": [2, 11], "abruptli": 2, "extra": [2, 3], "comma": [2, 5], "discov": 2, "frequenc": 2, "much": [2, 7], "60": [2, 5, 7], "var": 2, "record": 2, "stdout": [2, 5], "50": [2, 5], "compon": 2, "mechan": 2, "achiev": 2, "sound": 2, "intellig": 2, "idl": 2, "chanc": 2, "progress": 2, "good": [2, 3, 4, 5], "balanc": 2, "effici": [2, 5, 7], "absenc": 2, "parallel": 2, "copi": 2, "cooper": [2, 12], "descriptor": 2, "yield": 2, "wors": 2, "pars": [2, 3, 9], "manipul": 2, "imag": 2, "thoroughli": 2, "doubt": 2, "monkei": [2, 3, 4, 9, 12], "patch": [2, 3, 4, 9, 12], "ssl": 2, "abl": [2, 5], "reliabl": [2, 3, 4], "appli": [2, 3, 4, 5, 9, 12], "entrypoint": [2, 12], "our": [2, 5, 10], "essenti": 2, "part": 2, "wsgi": [2, 3, 9], "patch_al": [2, 3, 4, 9, 12], "wsgi_app": 2, "discover": 2, "strength": [2, 5], "grace": 2, "sigint": 2, "exit": [2, 10, 11], "sigterm": 2, "interrupt": [2, 11], "cleanli": 2, "sighup": 2, "hang": 2, "7": [2, 5, 7], "strongli": [2, 6], "recommend": [2, 6, 12], "systemd": 2, "potenti": 2, "mix": 2, "leak": 2, "out": [2, 3, 4, 5, 7], "374": 2, "pep": 2, "446": 2, "explain": 2, "short": [2, 11], "coupl": [2, 5], "encourag": 2, "compos": 2, "master": 2, "chosen": [2, 5], "coordin": [2, 5], "receipt": 2, "trigger": 2, "later": 2, "thrown": 2, "otherwis": [2, 10], "tell": [2, 5], "machin": [2, 5], "unexpectedli": 2, "lost": 2, "through": [2, 3, 4], "involv": 2, "mid": 2, "certain": [2, 3, 5, 9], "respond": 2, "packag": 3, "beyond": 3, "mean": [3, 5, 9], "stuff": [3, 5, 9], "spam": [3, 9], "email": [3, 5, 9], "web": [3, 9], "dynam": [3, 9], "nice": [3, 9], "bad": [3, 5, 9], "incompat": [3, 9], "asyncio": [3, 9], "crunch": [3, 9], "xml": [3, 9], "json": [3, 9], "disk": [3, 9], "restart": [3, 7, 9], "lose": [3, 9], "unprocess": [3, 9], "regular": [3, 4, 5, 9], "pool_siz": [3, 9], "validate_func": [3, 9], "definit": [3, 4, 9], "gain": [3, 9], "fetch_url": [3, 9], "urlopen": [3, 9], "run_backup": [3, 9], "asynchron": [3, 9], "http": [3, 4, 8, 9], "googl": [3, 9], "com": [3, 4, 5, 7, 8, 9], "html": [3, 9], "green": [3, 9], "my_app": [3, 7, 9, 10], "flask": [3, 9], "bottl": [3, 9], "mini_huei": [3, 9], "pywsgi": [3, 9], "wsgiserv": [3, 9], "127": [3, 9], "8000": [3, 9], "serve_forev": [3, 9], "There": [3, 5, 9], "valid": [3, 9], "integr": [3, 4], "framework": [3, 4], "auto": [3, 4], "discoveri": [3, 4], "properli": [3, 4], "those": [3, 4, 5], "offici": [3, 4], "www": [3, 4], "djangoproject": [3, 4], "download": [3, 4], "gaiacoop": [3, 4], "step": [3, 4, 5, 12], "entri": [3, 4], "project": [3, 4, 12], "installed_app": [3, 4], "djhuei": [3, 4], "bare": [3, 4], "minimum": [3, 4], "localhost": [3, 4], "6379": [3, 4], "setup": [3, 4, 8], "kept": [3, 4, 5], "dictionari": [3, 4], "show": [3, 4], "pool": [3, 4], "ton": [3, 4], "detail": [3, 4, 5, 7], "dsn": [3, 4], "worker_typ": [3, 4], "initial_delai": [3, 4], "smallest": [3, 4], "exponenti": [3, 4], "scheduler_interv": [3, 4], "check_worker_health": [3, 4], "health_check_interv": [3, 4], "box": [3, 4, 5], "priorityredisexpirehuei": [0, 3, 4, 5], "filesystem": [3, 4, 5], "ve": [3, 4], "shown": [3, 4], "max_connect": [3, 4], "run_huei": [3, 4], "preced": [3, 4], "standalon": [3, 4], "quick": [3, 4, 12], "refer": [3, 4, 5, 6], "briefli": [3, 4], "type": [3, 4, 5, 7, 8, 12], "suit": [3, 4], "compar": [3, 4], "autoload": [3, 4], "unfortun": [3, 4], "custom": [3, 4], "bootstrap": [3, 4], "mimic": [3, 4], "usr": [3, 4], "bin": [3, 4], "env": [3, 4], "argv": [3, 4], "__name__": [3, 4, 6], "__main__": [3, 4, 5, 6], "setdefault": [3, 4], "django_settings_modul": [3, 4], "conf": [3, 4], "execute_from_command_lin": [3, 4], "count_bean": [3, 4], "count": [3, 4, 5], "bean": [3, 4], "every_five_min": [3, 4], "five": [3, 4], "idea": [3, 4, 5], "close": [3, 4, 10], "db_periodic_task": [3, 4], "db_task": [3, 4], "do_some_queri": [3, 4], "purpos": [3, 4, 5], "prefer": [3, 4, 5], "OR": [3, 4], "get_storag": [3, 4], "four": [3, 4, 7], "network": [3, 4], "64": [3, 4], "192": [3, 4], "168": [3, 4], "123": [3, 4], "easi": [3, 4, 6], "variabl": [3, 4], "redis_url": [3, 4], "present": 5, "cover": 5, "r": 5, "instruct": [5, 10], "arriv": 5, "becom": 5, "notic": 5, "pick": 5, "every_three_minut": 5, "independ": 5, "obtain": 5, "inclus": 5, "express": 5, "9a": 5, "11a": 5, "4p": 5, "6p": 5, "11": 5, "18": 5, "sometim": 5, "anticip": 5, "approxim": 5, "half": 5, "random": [5, 11], "flaky_task": [5, 7, 11], "randint": [5, 11], "ok": [5, 11], "decrement": 5, "succe": [5, 11], "u": 5, "affect": 5, "priorit": [5, 7], "basi": 5, "subj": 5, "mailer": 5, "webmast": 5, "myapp": [5, 7], "invok": 5, "whose": 5, "process_pay": 5, "check_spam": 5, "make_thumbnail": 5, "new_us": 5, "foo": 5, "welcom": 5, "blah": 5, "boss": 5, "mycompani": 5, "pull": 5, "where": 5, "influx": 5, "bar": 5, "msg": 5, "some_periodic_task": 5, "elaps": 5, "doc": [5, 12], "polici": 5, "load_data": 5, "something_temporary_is_wrong": 5, "elif": 5, "something_fatal_is_wrong": 5, "NOT": 5, "cancel_and_maybe_retri": 5, "especi": 5, "occurr": 5, "notif": 5, "mail": 5, "down": [5, 11], "won": 5, "fix": [5, 12], "send_notification_email": 5, "usual": 5, "them": [5, 7], "signific": 5, "lag": 5, "treat": 5, "absolut": 5, "time_sensitive_task": 5, "report_fil": 5, "delta": 5, "one_hr": 5, "sequenti": 5, "review": 5, "And": 5, "compris": 5, "accomplish": 5, "print_signal_arg": 5, "introduc": 5, "eager": 5, "prior": 5, "behavior": [0, 5], "Or": 5, "everyth": [5, 11], "answer": 5, "8873": 5, "bcbd": 5, "2019": [5, 7], "03": 5, "27": 5, "02": 5, "06": 5, "activ": 5, "namespac": 5, "bind": 5, "streamhandl": 5, "alert": 5, "smtphandler": 5, "mail_handl": 5, "mailhost": 5, "smtp": 5, "gmail": 5, "587": 5, "fromaddr": 5, "toaddr": 5, "subject": 5, "credenti": 5, "secret_password": 5, "secur": 5, "setlevel": 5, "getlogg": 5, "addhandl": 5, "sketch": 5, "weak": 5, "capabl": 5, "extent": 5, "robust": 5, "facilit": 5, "scale": 5, "atom": 5, "fill": [5, 12], "mitig": 5, "modifi": 5, "microsecond": 5, "differenti": 5, "unresolv": 5, "practic": 5, "rare": 5, "moder": 5, "complex": 5, "undesir": 5, "unlink": 5, "primit": 5, "blackholehuei": 5, "op": 5, "un": 5, "worth": 5, "mention": 5, "syntact": 5, "sugar": 5, "_add": 5, "param": 5, "calculate_someth": 5, "prev_result": 5, "start_from_begin": 5, "just_what_chang": 5, "That": 5, "ourselv": 5, "functool": 5, "exp_backoff_task": 5, "retry_backoff": 5, "deco": 5, "fn": 5, "inner": 5, "factor": 5, "deleg": 5, "test_backoff": 5, "00": 5, "14": 5, "01": [5, 7], "ultim": 5, "modif": 5, "dynamic_ptask": 5, "schedule_messag": 5, "cron_minut": 5, "cron_hour": 5, "task_nam": 5, "dynamic_ptask_": 5, "ptask": 5, "45": 5, "front": 5, "callabl": 5, "wherev": 5, "importlib": 5, "import_modul": 5, "path_task": 5, "rsplit": 5, "mod": 5, "getattr": 5, "add_thes": 5, "somewher": 5, "sum": 5, "basic": 5, "pattern": 5, "link": 5, "aspect": 5, "recogn": 6, "circular": 6, "central": 6, "locat": 6, "04": 7, "recur": 7, "turn": 7, "this_might_fail": 7, "nightly_backup": 7, "sync_all_data": 7, "32": 7, "instal": 7, "git": 7, "tip": 7, "trick": 7, "suggest": 7, "organ": 7, "extens": 7, "troubleshoot": 7, "pitfal": 7, "summari": 7, "honor": 7, "cat": 7, "index": 7, "search": 7, "pypi": 8, "pip": 8, "outsid": 8, "consid": 8, "gevent": [8, 9, 12], "latest": 8, "clone": 8, "repo": 8, "coleif": 8, "cd": 8, "runner": 8, "queri": [9, 10], "simplest": 10, "peewe": 10, "check_comment_spam": 10, "comment_id": 10, "open": [10, 11, 12], "comment": 10, "akismet": 10, "is_spam": 10, "littl": 10, "simpler": 10, "against": 10, "open_db_connect": 10, "is_clos": 10, "run_queri": 10, "execute_sql": 10, "select": 10, "pg_sleep": 10, "correctli": 10, "state": [10, 11], "threadloc": 10, "right": 10, "pre_execute_hook": 10, "post_execute_hook": 10, "succeed": [10, 11], "logger": 10, "signal_cancel": 11, "signal_complet": 11, "signal_execut": 11, "signal_expir": 11, "abort": 11, "signal_retri": 11, "signal_revok": 11, "signal_schedul": 11, "signal_interrupt": 11, "all_signal_handl": 11, "task_not_executed_handl": 11, "task_success": 11, "uh": 11, "oh": 11, "enter": 11, "care": 11, "impact": 11, "rest": 11, "taken": 11, "proper": 11, "cleanup": 11, "outlin": 12, "arrang": 12, "solut": 12, "xxx": 12, "taskregistri": 12, "produc": 12, "mistyp": 12, "One": 12, "syntax": 12, "main_modul": 12, "detect": 12, "circumst": 12, "who": 12, "familiar": 12, "correct": 12, "cronjob": 12, "seem": 12, "stuck": 12, "monkeypatch": 12, "furthermor": 12, "test_mod": 12}, "objects": {"": [[0, 0, 1, "", "BaseStorage"], [0, 0, 1, "", "BlackHoleStorage"], [0, 0, 1, "", "CancelExecution"], [0, 0, 1, "", "ConfigurationError"], [0, 0, 1, "", "FileHuey"], [0, 0, 1, "", "FileStorage"], [0, 0, 1, "", "Huey"], [0, 0, 1, "", "HueyException"], [0, 0, 1, "", "MemoryHuey"], [0, 0, 1, "", "MemoryStorage"], [3, 0, 1, "", "MiniHuey"], [0, 0, 1, "", "PriorityRedisExpireHuey"], [0, 0, 1, "", "PriorityRedisExpireStorage"], [0, 0, 1, "", "PriorityRedisHuey"], [0, 0, 1, "", "PriorityRedisStorage"], [0, 0, 1, "", "RedisExpireHuey"], [0, 0, 1, "", "RedisExpireStorage"], [0, 0, 1, "", "RedisHuey"], [0, 0, 1, "", "RedisStorage"], [0, 0, 1, "", "Result"], [0, 0, 1, "", "ResultGroup"], [0, 0, 1, "", "RetryTask"], [0, 0, 1, "", "Serializer"], [0, 0, 1, "", "SqliteHuey"], [0, 0, 1, "", "SqliteStorage"], [0, 0, 1, "", "Task"], [0, 0, 1, "", "TaskException"], [0, 0, 1, "", "TaskLock"], [0, 0, 1, "", "TaskLockedException"], [0, 0, 1, "", "TaskWrapper"], [0, 3, 1, "", "crontab"]], "BaseStorage": [[0, 1, 1, "", "add_to_schedule"], [0, 1, 1, "", "dequeue"], [0, 1, 1, "", "enqueue"], [0, 1, 1, "", "enqueued_items"], [0, 1, 1, "", "flush_queue"], [0, 1, 1, "", "flush_results"], [0, 1, 1, "", "flush_schedule"], [0, 1, 1, "", "has_data_for_key"], [0, 1, 1, "", "peek_data"], [0, 1, 1, "", "pop_data"], [0, 1, 1, "", "put_data"], [0, 1, 1, "", "put_if_empty"], [0, 1, 1, "", "queue_size"], [0, 1, 1, "", "read_schedule"], [0, 1, 1, "", "result_items"], [0, 1, 1, "", "result_store_size"], [0, 1, 1, "", "schedule_size"], [0, 1, 1, "", "scheduled_items"]], "Huey": [[0, 1, 1, "", "__len__"], [0, 1, 1, "", "all_results"], [0, 1, 1, "", "context_task"], [0, 1, 1, "", "disconnect_signal"], [0, 1, 1, "", "enqueue"], [0, 1, 1, "", "flush_locks"], [0, 1, 1, "", "get"], [0, 2, 1, "", "immediate"], [0, 1, 1, "", "is_locked"], [0, 1, 1, "", "is_revoked"], [0, 1, 1, "", "lock_task"], [0, 1, 1, "", "on_shutdown"], [0, 1, 1, "", "on_startup"], [0, 1, 1, "", "pending"], [0, 1, 1, "", "periodic_task"], [0, 1, 1, "", "post_execute"], [0, 1, 1, "", "pre_execute"], [0, 1, 1, "", "put"], [0, 1, 1, "", "restore"], [0, 1, 1, "", "restore_all"], [0, 1, 1, "", "restore_by_id"], [0, 1, 1, "", "result"], [0, 1, 1, "", "revoke"], [0, 1, 1, "", "revoke_all"], [0, 1, 1, "", "revoke_by_id"], [0, 1, 1, "", "scheduled"], [0, 1, 1, "", "signal"], [0, 1, 1, "", "task"], [0, 1, 1, "", "unregister_on_shutdown"], [0, 1, 1, "", "unregister_on_startup"], [0, 1, 1, "", "unregister_post_execute"], [0, 1, 1, "", "unregister_pre_execute"]], "MiniHuey": [[3, 1, 1, "", "start"], [3, 1, 1, "", "stop"], [3, 1, 1, "", "task"]], "Result": [[0, 1, 1, "", "__call__"], [0, 1, 1, "", "get"], [0, 2, 1, "", "id"], [0, 1, 1, "", "is_revoked"], [0, 1, 1, "", "reschedule"], [0, 1, 1, "", "reset"], [0, 1, 1, "", "restore"], [0, 1, 1, "", "revoke"]], "ResultGroup": [[0, 1, 1, "", "get"]], "Serializer": [[0, 1, 1, "", "_deserialize"], [0, 1, 1, "", "_serialize"]], "Task": [[0, 1, 1, "", "error"], [0, 1, 1, "", "then"]], "TaskLock": [[0, 1, 1, "", "clear"]], "TaskWrapper": [[0, 1, 1, "", "call_local"], [0, 1, 1, "", "is_revoked"], [0, 1, 1, "", "map"], [0, 1, 1, "", "restore"], [0, 1, 1, "", "revoke"], [0, 1, 1, "", "s"], [0, 1, 1, "", "schedule"]]}, "objtypes": {"0": "py:class", "1": "py:method", "2": "py:attribute", "3": "py:function"}, "objnames": {"0": ["py", "class", "Python class"], "1": ["py", "method", "Python method"], "2": ["py", "attribute", "Python attribute"], "3": ["py", "function", "Python function"]}, "titleterms": {"huei": [0, 3, 4, 7, 9], "": 0, "api": 0, "type": [0, 2], "object": 0, "result": 0, "serial": 0, "except": 0, "storag": [0, 5], "chang": 1, "2": 1, "0": 1, "summari": 1, "detail": 1, "consum": [2, 3, 4, 7], "task": [2, 3, 4, 5, 6], "option": [2, 5], "exampl": [2, 3, 4, 11], "worker": 2, "us": [2, 3, 4, 8], "gevent": [2, 3, 4], "shutdown": 2, "restart": 2, "intern": 2, "signal": [2, 5, 11], "extens": 3, "mini": [3, 9], "django": [3, 4], "set": [3, 4], "thing": [3, 4], "up": [3, 4], "run": [3, 4, 5, 7], "how": [3, 4, 6], "creat": [3, 4], "execut": [3, 4, 10], "queri": [3, 4], "debug": [3, 4], "synchron": [3, 4], "get": [3, 4], "instanc": [3, 4], "configur": [3, 4], "guid": 5, "schedul": 5, "period": 5, "retri": 5, "fail": 5, "prioriti": 5, "cancel": 5, "paus": 5, "from": 5, "within": 5, "expir": 5, "pipelin": 5, "lock": 5, "immedi": 5, "mode": 5, "log": 5, "tip": 5, "trick": 5, "exponenti": 5, "backoff": 5, "dynam": 5, "arbitrari": 5, "function": 5, "read": 5, "more": 5, "understand": 6, "ar": 6, "import": 6, "suggest": 6, "organ": 6, "code": 6, "At": 7, "glanc": 7, "tabl": 7, "content": 7, "indic": 7, "instal": 8, "git": 8, "manag": 10, "share": 10, "resourc": 10, "startup": 10, "hook": 10, "pre": 10, "post": 10, "perform": 11, "consider": 11, "troubleshoot": 12, "common": 12, "pitfal": 12}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"Changes in 2.0": [[1, "changes-in-2-0"]], "Summary": [[1, "summary"]], "Details": [[1, "details"]], "Consuming Tasks": [[2, "consuming-tasks"]], "Options for the consumer": [[2, "options-for-the-consumer"]], "Examples": [[2, "examples"], [11, "examples"]], "Worker types": [[2, "worker-types"]], "Using gevent": [[2, "using-gevent"], [3, "using-gevent"], [4, "using-gevent"]], "Consumer shutdown": [[2, "consumer-shutdown"]], "Consumer restart": [[2, "consumer-restart"]], "Consumer Internals": [[2, "consumer-internals"]], "Signals": [[2, "signals"], [11, "signals"], [5, "signals"]], "Understanding how tasks are imported": [[6, "understanding-how-tasks-are-imported"]], "Suggested organization of code": [[6, "suggested-organization-of-code"]], "huey": [[7, "huey"]], "At a glance": [[7, "at-a-glance"]], "Running the consumer": [[7, "running-the-consumer"]], "Table of contents": [[7, "table-of-contents"]], "Indices and tables": [[7, "indices-and-tables"]], "Installing": [[8, "installing"]], "Using git": [[8, "using-git"]], "Mini-Huey": [[9, "mini-huey"], [3, "mini-huey"]], "Managing shared resources": [[10, "managing-shared-resources"]], "Startup hooks": [[10, "startup-hooks"]], "Pre and post execute hooks": [[10, "pre-and-post-execute-hooks"]], "Performance considerations": [[11, "performance-considerations"]], "Troubleshooting and Common Pitfalls": [[12, "troubleshooting-and-common-pitfalls"]], "Huey\u2019s API": [[0, "huey-s-api"]], "Huey types": [[0, "huey-types"]], "Huey object": [[0, "huey-object"]], "Result": [[0, "result"]], "Serializer": [[0, "serializer"]], "Exceptions": [[0, "exceptions"]], "Storage": [[0, "storage"]], "Huey Extensions": [[3, "huey-extensions"]], "Django": [[3, "django"], [4, "django"]], "Setting things up": [[3, "setting-things-up"], [4, "setting-things-up"]], "Running the Consumer": [[3, "running-the-consumer"], [4, "running-the-consumer"]], "How to create tasks": [[3, "how-to-create-tasks"], [4, "how-to-create-tasks"]], "Tasks that execute queries": [[3, "tasks-that-execute-queries"], [4, "tasks-that-execute-queries"]], "DEBUG and Synchronous Execution": [[3, "debug-and-synchronous-execution"], [4, "debug-and-synchronous-execution"]], "Getting the Huey Instance": [[3, "getting-the-huey-instance"], [4, "getting-the-huey-instance"]], "Configuration Examples": [[3, "configuration-examples"], [4, "configuration-examples"]], "Guide": [[5, "guide"]], "Scheduling tasks": [[5, "scheduling-tasks"]], "Periodic tasks": [[5, "periodic-tasks"]], "Retrying tasks that fail": [[5, "retrying-tasks-that-fail"]], "Task priority": [[5, "task-priority"]], "Canceling or pausing tasks": [[5, "canceling-or-pausing-tasks"]], "Canceling from within a Task": [[5, "canceling-from-within-a-task"]], "Canceling or pausing periodic tasks": [[5, "canceling-or-pausing-periodic-tasks"]], "Task expiration": [[5, "task-expiration"]], "Task pipelines": [[5, "task-pipelines"]], "Locking tasks": [[5, "locking-tasks"]], "Immediate mode": [[5, "immediate-mode"]], "Logging": [[5, "logging"]], "Storage Options": [[5, "storage-options"]], "Tips and tricks": [[5, "tips-and-tricks"]], "Exponential Backoff Retries": [[5, "exponential-backoff-retries"]], "Dynamic periodic tasks": [[5, "dynamic-periodic-tasks"]], "Run Arbitrary Functions as Tasks": [[5, "run-arbitrary-functions-as-tasks"]], "Reading more": [[5, "reading-more"]]}, "indexentries": {"basestorage (built-in class)": [[0, "BaseStorage"]], "blackholestorage (built-in class)": [[0, "BlackHoleStorage"]], "cancelexecution (built-in class)": [[0, "CancelExecution"]], "configurationerror (built-in class)": [[0, "ConfigurationError"]], "filehuey (built-in class)": [[0, "FileHuey"]], "filestorage (built-in class)": [[0, "FileStorage"]], "huey (built-in class)": [[0, "Huey"]], "hueyexception (built-in class)": [[0, "HueyException"]], "memoryhuey (built-in class)": [[0, "MemoryHuey"]], "memorystorage (built-in class)": [[0, "MemoryStorage"]], "priorityredisexpirehuey (built-in class)": [[0, "PriorityRedisExpireHuey"]], "priorityredisexpirestorage (built-in class)": [[0, "PriorityRedisExpireStorage"]], "priorityredishuey (built-in class)": [[0, "PriorityRedisHuey"]], "priorityredisstorage (built-in class)": [[0, "PriorityRedisStorage"]], "redisexpirehuey (built-in class)": [[0, "RedisExpireHuey"]], "redisexpirestorage (built-in class)": [[0, "RedisExpireStorage"]], "redishuey (built-in class)": [[0, "RedisHuey"]], "redisstorage (built-in class)": [[0, "RedisStorage"]], "result (built-in class)": [[0, "Result"]], "resultgroup (built-in class)": [[0, "ResultGroup"]], "retrytask (built-in class)": [[0, "RetryTask"]], "serializer (built-in class)": [[0, "Serializer"]], "sqlitehuey (built-in class)": [[0, "SqliteHuey"]], "sqlitestorage (built-in class)": [[0, "SqliteStorage"]], "task (built-in class)": [[0, "Task"]], "taskexception (built-in class)": [[0, "TaskException"]], "tasklock (built-in class)": [[0, "TaskLock"]], "tasklockedexception (built-in class)": [[0, "TaskLockedException"]], "taskwrapper (built-in class)": [[0, "TaskWrapper"]], "__call__() (result method)": [[0, "Result.__call__"]], "__len__() (huey method)": [[0, "Huey.__len__"]], "_deserialize() (serializer method)": [[0, "Serializer._deserialize"]], "_serialize() (serializer method)": [[0, "Serializer._serialize"]], "add_to_schedule() (basestorage method)": [[0, "BaseStorage.add_to_schedule"]], "all_results() (huey method)": [[0, "Huey.all_results"]], "built-in function": [[0, "crontab"]], "call_local() (taskwrapper method)": [[0, "TaskWrapper.call_local"]], "clear() (tasklock method)": [[0, "TaskLock.clear"]], "context_task() (huey method)": [[0, "Huey.context_task"]], "crontab()": [[0, "crontab"]], "dequeue() (basestorage method)": [[0, "BaseStorage.dequeue"]], "disconnect_signal() (huey method)": [[0, "Huey.disconnect_signal"]], "enqueue() (basestorage method)": [[0, "BaseStorage.enqueue"]], "enqueue() (huey method)": [[0, "Huey.enqueue"]], "enqueued_items() (basestorage method)": [[0, "BaseStorage.enqueued_items"]], "error() (task method)": [[0, "Task.error"]], "flush_locks() (huey method)": [[0, "Huey.flush_locks"]], "flush_queue() (basestorage method)": [[0, "BaseStorage.flush_queue"]], "flush_results() (basestorage method)": [[0, "BaseStorage.flush_results"]], "flush_schedule() (basestorage method)": [[0, "BaseStorage.flush_schedule"]], "get() (huey method)": [[0, "Huey.get"]], "get() (result method)": [[0, "Result.get"]], "get() (resultgroup method)": [[0, "ResultGroup.get"]], "has_data_for_key() (basestorage method)": [[0, "BaseStorage.has_data_for_key"]], "id (result attribute)": [[0, "Result.id"]], "immediate (huey attribute)": [[0, "Huey.immediate"]], "is_locked() (huey method)": [[0, "Huey.is_locked"]], "is_revoked() (huey method)": [[0, "Huey.is_revoked"]], "is_revoked() (result method)": [[0, "Result.is_revoked"]], "is_revoked() (taskwrapper method)": [[0, "TaskWrapper.is_revoked"]], "lock_task() (huey method)": [[0, "Huey.lock_task"]], "map() (taskwrapper method)": [[0, "TaskWrapper.map"]], "on_shutdown() (huey method)": [[0, "Huey.on_shutdown"]], "on_startup() (huey method)": [[0, "Huey.on_startup"]], "peek_data() (basestorage method)": [[0, "BaseStorage.peek_data"]], "pending() (huey method)": [[0, "Huey.pending"]], "periodic_task() (huey method)": [[0, "Huey.periodic_task"]], "pop_data() (basestorage method)": [[0, "BaseStorage.pop_data"]], "post_execute() (huey method)": [[0, "Huey.post_execute"]], "pre_execute() (huey method)": [[0, "Huey.pre_execute"]], "put() (huey method)": [[0, "Huey.put"]], "put_data() (basestorage method)": [[0, "BaseStorage.put_data"]], "put_if_empty() (basestorage method)": [[0, "BaseStorage.put_if_empty"]], "queue_size() (basestorage method)": [[0, "BaseStorage.queue_size"]], "read_schedule() (basestorage method)": [[0, "BaseStorage.read_schedule"]], "reschedule() (result method)": [[0, "Result.reschedule"]], "reset() (result method)": [[0, "Result.reset"]], "restore() (huey method)": [[0, "Huey.restore"]], "restore() (result method)": [[0, "Result.restore"]], "restore() (taskwrapper method)": [[0, "TaskWrapper.restore"]], "restore_all() (huey method)": [[0, "Huey.restore_all"]], "restore_by_id() (huey method)": [[0, "Huey.restore_by_id"]], "result() (huey method)": [[0, "Huey.result"]], "result_items() (basestorage method)": [[0, "BaseStorage.result_items"]], "result_store_size() (basestorage method)": [[0, "BaseStorage.result_store_size"]], "revoke() (huey method)": [[0, "Huey.revoke"]], "revoke() (result method)": [[0, "Result.revoke"]], "revoke() (taskwrapper method)": [[0, "TaskWrapper.revoke"]], "revoke_all() (huey method)": [[0, "Huey.revoke_all"]], "revoke_by_id() (huey method)": [[0, "Huey.revoke_by_id"]], "s() (taskwrapper method)": [[0, "TaskWrapper.s"]], "schedule() (taskwrapper method)": [[0, "TaskWrapper.schedule"]], "schedule_size() (basestorage method)": [[0, "BaseStorage.schedule_size"]], "scheduled() (huey method)": [[0, "Huey.scheduled"]], "scheduled_items() (basestorage method)": [[0, "BaseStorage.scheduled_items"]], "signal() (huey method)": [[0, "Huey.signal"]], "task() (huey method)": [[0, "Huey.task"]], "then() (task method)": [[0, "Task.then"]], "unregister_on_shutdown() (huey method)": [[0, "Huey.unregister_on_shutdown"]], "unregister_on_startup() (huey method)": [[0, "Huey.unregister_on_startup"]], "unregister_post_execute() (huey method)": [[0, "Huey.unregister_post_execute"]], "unregister_pre_execute() (huey method)": [[0, "Huey.unregister_pre_execute"]], "minihuey (built-in class)": [[3, "MiniHuey"]], "start() (minihuey method)": [[3, "MiniHuey.start"]], "stop() (minihuey method)": [[3, "MiniHuey.stop"]], "task() (minihuey method)": [[3, "MiniHuey.task"]]}})