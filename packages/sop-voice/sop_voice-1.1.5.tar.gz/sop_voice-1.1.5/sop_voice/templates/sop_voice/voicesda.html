{% extends "generic/object.html" %}
{% load buttons %}
{% load custom_links %}
{% load helpers %}
{% load perms %}
{% load plugins %}
{% load tabs %}
{% load i18n %}


{% block breadcrumbs %}
    {% include 'sop_utils/tools/breadcrumbs.html' with object=object.delivery name="SDA List" %}
{% endblock %}


{% block control-buttons %}
  {% if perms.extras.add_bookmark and object.bookmarks %}
    {% bookmark_button object %}
  {% endif %}
  {% if perms.extras.add_subscription and object.subscriptions %}
    {% subscribe_button object %}
  {% endif %}
  {% if request.user|can_change:object %}
    {% edit_button object %}
  {% endif %}
  {% if request.user|can_delete:object %}
    {% delete_button object %}
  {% endif %}
{% endblock control-buttons %}


{% block title %}{{object|meta:"verbose_name"|bettertitle}}{% endblock %}


{% block content %}
<div class="row">
  <div class="col col-md-6">
    <div class="card">

      <h5 class="card-header">{{object|meta:"verbose_name"|bettertitle}}</h5>
      <table class="table table-hover attr-table">

        <tr>
          <th scope="row">{% trans "Start" %}</th>
          <td>
            {{object.start}}
          </td>
        </tr>

        <tr>
          <th scope="row">{% trans "End" %}</th>
          <td>
            {{object.end}}
          </td>
        </tr>

        <tr>
          <th scope="row">{% trans "Contains" %}</th>
          {% if num_sda < 2 %}
            <td>{{num_sda}} {% trans "number" %}</td>
          {% else %}
            <td>{{num_sda}} {% trans "numbers" %}</td>
          {% endif %}
        </tr>

        <tr>
          <th scope="row">{% trans "Delivery method" %}</th>
          <td>
            <a href="{% url object.delivery|viewname:'detail' pk=object.delivery.id %}">
              {{object.delivery.delivery}}
            </a>
          </td>
        </tr>

        <tr>
          <th scope="row">{% trans "Delivery provider" %}</th>
          <td>
            {{object.delivery.provider|linkify}}
          </td>
        </tr>

        <tr>
          <th scope="row">{% trans "Delivery status" %}</th>
          <td>
            {% badge object.delivery.get_status_display bg_color=object.delivery.get_status_color %}
          </td>
        </tr>

      </table>
    </div>
  </div>

  <div class="col-md-6">
    {% if object.delivery %}
      {% include 'sop_utils/tools/site.html' with object=object.delivery maintainer=maintainer.maintainer %}
    {% endif %}
  </div>
</div>
{% endblock content %}
