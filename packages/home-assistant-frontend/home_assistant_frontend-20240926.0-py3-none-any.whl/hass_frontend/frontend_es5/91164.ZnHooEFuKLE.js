"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[91164],{82332:function(e,t,i){var n=i(22858).A,a=i(33994).A;i.a(e,function(){var e=n(a().mark((function e(t,n){var o,s,r,c,d,l,h,u,v,f,p,y,k,g,_,m,H,V,b,x,A,M,C,w,P,L,E,z,q,Z;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=i(33994),s=i(22858),r=i(64599),c=i(35806),d=i(71008),l=i(62193),h=i(2816),u=i(27927),v=i(81027),f=i(95737),p=i(97099),y=i(39790),k=i(7760),g=i(99019),_=i(15129),m=i(96858),H=i(15112),V=i(29818),b=i(66066),x=i(34897),A=i(68320),M=i(79051),C=i(94548),i(77372),i(28066),i(13830),i(24260),i(88400),!(w=t([C])).then){e.next=45;break}return e.next=41,w;case 41:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=46;break;case 45:e.t0=w;case 46:C=e.t0[0],(0,u.A)([(0,V.EM)("hui-entities-editor")],(function(e,t){var i,n,a=function(t){function i(){var t;(0,d.A)(this,i);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=(0,l.A)(this,i,[].concat(a)),e(t),t}return(0,h.A)(i,t),(0,c.A)(i)}(t);return{F:a,d:[{kind:"field",decorators:[(0,V.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,V.MZ)({attribute:!1})],key:"entities",value:void 0},{kind:"field",decorators:[(0,V.P)(".add-container",!0)],key:"_addContainer",value:void 0},{kind:"field",decorators:[(0,V.P)("ha-entity-picker")],key:"_entityPicker",value:void 0},{kind:"field",decorators:[(0,V.wk)()],key:"_addMode",value:function(){return!1}},{kind:"field",key:"_opened",value:function(){return!1}},{kind:"field",key:"_entitiesKeys",value:function(){return new WeakMap}},{kind:"method",key:"_getKey",value:function(e){return this._entitiesKeys.has(e)||this._entitiesKeys.set(e,Math.random().toString()),this._entitiesKeys.get(e)}},{kind:"method",key:"render",value:function(){var e=this;return this.hass?(0,H.qy)(P||(P=(0,r.A)([" ",' <div class="add-container"> <ha-button data-add-entity outlined .label="','" @click="','"> <ha-svg-icon .path="','" slot="icon"></ha-svg-icon> </ha-button> '," </div> "])),this.entities?(0,H.qy)(L||(L=(0,r.A)([' <ha-sortable handle-selector=".handle" @item-moved="','"> <div class="entities"> '," </div> </ha-sortable> "])),this._entityMoved,(0,b.u)(this.entities,(function(t){return e._getKey(t)}),(function(t,i){var n=t.entity,a=e.hass.states[n],o=a?a.attributes.friendly_name:void 0;return(0,H.qy)(E||(E=(0,r.A)([' <div class="entity"> <div class="handle"> <ha-svg-icon .path="','"></ha-svg-icon> </div> <div class="entity-content"> <span>',"</span> </div> ",' <ha-icon-button .label="','" .path="','" class="remove-icon" .index="','" @click="','"></ha-icon-button> </div> '])),"M7,19V17H9V19H7M11,19V17H13V19H11M15,19V17H17V19H15M7,15V13H9V15H7M11,15V13H13V15H11M15,15V13H17V15H15M7,11V9H9V11H7M11,11V9H13V11H11M15,11V9H17V11H15M7,7V5H9V7H7M11,7V5H13V7H11M15,7V5H17V7H15Z",o||n,(0,H.qy)(z||(z=(0,r.A)([' <ha-icon-button .label="','" .path="','" class="edit-icon" .index="','" @click="','" .disabled="','"></ha-icon-button> '])),e.hass.localize("ui.panel.lovelace.editor.entities.edit"),"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",i,e._editEntity,!1),e.hass.localize("ui.panel.lovelace.editor.entities.remove"),"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",i,e._removeEntity)}))):H.s6,this.hass.localize("ui.panel.lovelace.editor.entities.add"),this._addEntity,"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",this._renderPicker()):H.s6}},{kind:"method",key:"_renderPicker",value:function(){return this._addMode?(0,H.qy)(q||(q=(0,r.A)([' <mwc-menu-surface open .anchor="','" @closed="','" @opened="','" @opened-changed="','" @input="','"> <ha-entity-picker .hass="','" id="input" .type="','" .label="','" @value-changed="','" @click="','" allow-custom-entity></ha-entity-picker> </mwc-menu-surface> '])),this._addContainer,this._onClosed,this._onOpened,this._openedChanged,M.d,this.hass,"entity_id",this.hass.localize("ui.components.target-picker.add_entity_id"),this._entityPicked,A.w):H.s6}},{kind:"method",key:"_onClosed",value:function(e){e.stopPropagation(),e.target.open=!0}},{kind:"method",key:"_onOpened",value:(n=(0,s.A)((0,o.A)().mark((function e(){var t,i;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._addMode){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,null===(t=this._entityPicker)||void 0===t?void 0:t.focus();case 4:return e.next=6,null===(i=this._entityPicker)||void 0===i?void 0:i.open();case 6:this._opened=!0;case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{kind:"method",key:"_openedChanged",value:function(e){this._opened&&!e.detail.value&&(this._opened=!1,this._addMode=!1)}},{kind:"method",key:"_addEntity",value:(i=(0,s.A)((0,o.A)().mark((function e(t){return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.stopPropagation(),this._addMode=!0;case 2:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{kind:"method",key:"_entityPicked",value:function(e){if(e.stopPropagation(),e.detail.value){var t={entity:e.detail.value},i=(this.entities||[]).concat(t);(0,x.r)(this,"entities-changed",{entities:i})}}},{kind:"method",key:"_entityMoved",value:function(e){e.stopPropagation();var t=e.detail,i=t.oldIndex,n=t.newIndex,a=(this.entities||[]).concat();a.splice(n,0,a.splice(i,1)[0]),(0,x.r)(this,"entities-changed",{entities:a})}},{kind:"method",key:"_removeEntity",value:function(e){var t=e.currentTarget.index,i=(this.entities||[]).concat();i.splice(t,1),(0,x.r)(this,"entities-changed",{entities:i})}},{kind:"method",key:"_editEntity",value:function(e){var t=e.currentTarget.index;(0,x.r)(this,"edit-entity",{index:t})}},{kind:"get",static:!0,key:"styles",value:function(){return(0,H.AH)(Z||(Z=(0,r.A)([":host{display:flex!important;flex-direction:column}ha-button{margin-top:8px}.entity{display:flex;align-items:center}.entity .handle{cursor:move;cursor:grab;padding-right:8px;padding-inline-end:8px;padding-inline-start:initial;direction:var(--direction)}.entity .handle>*{pointer-events:none}.entity-content{height:60px;font-size:16px;display:flex;align-items:center;justify-content:space-between;flex-grow:1}.entity-content div{display:flex;flex-direction:column}.edit-icon,.remove-icon{--mdc-icon-button-size:36px;color:var(--secondary-text-color)}.secondary{font-size:12px;color:var(--secondary-text-color)}li[divider]{border-bottom-color:var(--divider-color)}.add-container{position:relative;width:100%}mwc-menu-surface{--mdc-menu-min-width:100%}ha-entity-picker{display:block;width:100%}"])))}}]}}),H.WF),n(),e.next=58;break;case 55:e.prev=55,e.t2=e.catch(0),n(e.t2);case 58:case"end":return e.stop()}}),e,null,[[0,55]])})));return function(t,i){return e.apply(this,arguments)}}())},91164:function(e,t,i){var n=i(22858).A,a=i(33994).A;i.a(e,function(){var e=n(a().mark((function e(n,o){var s,r,c,d,l,h,u,v,f,p,y,k,g,_,m,H,V,b,x,A,M,C,w,P,L,E;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i.r(t),i.d(t,{HuiHeadingCardEditor:function(){return E}}),s=i(64599),r=i(35806),c=i(71008),d=i(62193),l=i(2816),h=i(27927),u=i(81027),v=i(97741),f=i(50693),p=i(26098),y=i(15112),k=i(29818),g=i(94100),_=i(66419),m=i(34897),i(15720),i(36185),i(88400),H=i(66028),V=i(76914),b=i(56124),x=i(3532),A=i(82332),!(M=n([A])).then){e.next=38;break}return e.next=34,M;case 34:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=39;break;case 38:e.t0=M;case 39:A=e.t0[0],P=["navigate","url","perform-action","none"],L=(0,_.kp)(b.H,(0,_.Ik)({heading_style:(0,_.lq)((0,_.vP)(["title","subtitle"])),heading:(0,_.lq)((0,_.Yj)()),icon:(0,_.lq)((0,_.Yj)()),tap_action:(0,_.lq)(V.k),entities:(0,_.lq)((0,_.YO)((0,_.bz)()))})),E=(0,h.A)([(0,k.EM)("hui-heading-card-editor")],(function(e,t){var i=function(t){function i(){var t;(0,c.A)(this,i);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=(0,d.A)(this,i,[].concat(a)),e(t),t}return(0,l.A)(i,t),(0,r.A)(i)}(t);return{F:i,d:[{kind:"field",decorators:[(0,k.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,k.wk)()],key:"_config",value:void 0},{kind:"method",key:"setConfig",value:function(e){(0,_.vA)(e,L),this._config=e}},{kind:"field",key:"_schema",value:function(){return(0,g.A)((function(e){return[{name:"heading_style",selector:{select:{mode:"dropdown",options:["title","subtitle"].map((function(t){return{label:e("ui.panel.lovelace.editor.card.heading.heading_style_options.".concat(t)),value:t}}))}}},{name:"heading",selector:{text:{}}},{name:"icon",selector:{icon:{}}},{name:"interactions",type:"expandable",flatten:!0,iconPath:"M10,9A1,1 0 0,1 11,8A1,1 0 0,1 12,9V13.47L13.21,13.6L18.15,15.79C18.68,16.03 19,16.56 19,17.14V21.5C18.97,22.32 18.32,22.97 17.5,23H11C10.62,23 10.26,22.85 10,22.57L5.1,18.37L5.84,17.6C6.03,17.39 6.3,17.28 6.58,17.28H6.8L10,19V9M11,5A4,4 0 0,1 15,9C15,10.5 14.2,11.77 13,12.46V11.24C13.61,10.69 14,9.89 14,9A3,3 0 0,0 11,6A3,3 0 0,0 8,9C8,9.89 8.39,10.69 9,11.24V12.46C7.8,11.77 7,10.5 7,9A4,4 0 0,1 11,5Z",schema:[{name:"tap_action",selector:{ui_action:{default_action:"none",actions:P}}}]}]}))}},{kind:"field",key:"_entities",value:function(){return(0,g.A)((function(e){return(0,H._)(e||[])}))}},{kind:"method",key:"render",value:function(){if(!this.hass||!this._config)return y.s6;var e=Object.assign({},this._config);e.heading_style||(e.heading_style="title");var t=this._schema(this.hass.localize);return(0,y.qy)(C||(C=(0,s.A)([' <ha-form .hass="','" .data="','" .schema="','" .computeLabel="','" @value-changed="','"></ha-form> <ha-expansion-panel outlined> <h3 slot="header"> <ha-svg-icon .path="','"></ha-svg-icon> ',' </h3> <div class="content"> <hui-entities-editor .hass="','" .entities="','" @entities-changed="','" @edit-entity="','"> </hui-entities-editor> </div> </ha-expansion-panel> '])),this.hass,e,t,this._computeLabelCallback,this._valueChanged,"M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3M7 7H9V9H7V7M7 11H9V13H7V11M7 15H9V17H7V15M17 17H11V15H17V17M17 13H11V11H17V13M17 9H11V7H17V9Z",this.hass.localize("ui.panel.lovelace.editor.card.heading.entities"),this.hass,this._entities(this._config.entities),this._entitiesChanged,this._editEntity)}},{kind:"method",key:"_entitiesChanged",value:function(e){if(e.stopPropagation(),this._config&&this.hass){var t=Object.assign(Object.assign({},this._config),{},{entities:e.detail.entities});(0,m.r)(this,"config-changed",{config:t})}}},{kind:"method",key:"_valueChanged",value:function(e){if(e.stopPropagation(),this._config&&this.hass){var t=e.detail.value;(0,m.r)(this,"config-changed",{config:t})}}},{kind:"method",key:"_editEntity",value:function(e){var t=this;e.stopPropagation();var i=e.detail.index,n=this._config.entities[i];(0,m.r)(this,"edit-sub-element",{config:n,saveConfig:function(e){return t._updateEntity(i,e)},type:"heading-entity"})}},{kind:"method",key:"_updateEntity",value:function(e,t){var i=this._config.entities.concat();i[e]=t;var n=Object.assign(Object.assign({},this._config),{},{entities:i});(0,m.r)(this,"config-changed",{config:n})}},{kind:"field",key:"_computeLabelCallback",value:function(){var e=this;return function(t){switch(t.name){case"heading_style":case"heading":return e.hass.localize("ui.panel.lovelace.editor.card.heading.".concat(t.name));default:return e.hass.localize("ui.panel.lovelace.editor.card.generic.".concat(t.name))}}}},{kind:"get",static:!0,key:"styles",value:function(){return[x.U,(0,y.AH)(w||(w=(0,s.A)([".container{display:flex;flex-direction:column}ha-form{display:block;margin-bottom:24px}"])))]}}]}}),y.WF),o(),e.next=51;break;case 48:e.prev=48,e.t2=e.catch(0),o(e.t2);case 51:case"end":return e.stop()}}),e,null,[[0,48]])})));return function(t,i){return e.apply(this,arguments)}}())}}]);
//# sourceMappingURL=91164.ZnHooEFuKLE.js.map