# TOML file for STMLab.
#  
# @note: TOML file            
# Created on 20.03.2024    
# 
# @version:  1.0    
# ----------------------------------------------------------------------------------------------
# @requires:
#        - 
# 
# @change: 
#        -    
#    
# @author: garb_ma                                                     [DLR-FA,STM Braunschweig]
# ----------------------------------------------------------------------------------------------
[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"

[tool.poetry]
name = "stmlab"
version = "0.10.1a"
description = "Launch and runtime environment for software projects developed by the Department of Structural Mechanics at the Institute of Lightweight Structures (DLR)."
authors = ["Garbade, Marc <marc.garbade@dlr.de>"]
license = "MIT"
packages = [{include="stmlab", from="src"}]
repository = "https://gitlab.com/dlr-sy/stmlab"
documentation = "https://gitlab.com/dlr-sy/stmlab/-/blob/main/README.md"
keywords = ["stmlab","launcher","ui"]
classifiers = [
    "Development Status :: 3 - Alpha",
    "Topic :: Scientific/Engineering",
    "Programming Language :: Python :: 2",
    "Programming Language :: Python :: 3",
    "License :: OSI Approved :: MIT License",
    "Operating System :: OS Independent"
]

[tool.poetry.urls]
Changelog = "https://gitlab.com/dlr-sy/stmlab/-/blob/master/CHANGELOG.md"

[[tool.poetry.source]]
name = "PyPI"
priority = "primary"

[[tool.poetry.source]]
name = "dlr-sy"
url = "https://gitlab.dlr.de/api/v4/groups/541/-/packages/pypi/simple"
priority = "supplemental"

[tool.poetry.dependencies]
python = "~2.7 || ^3.5"
typer = [{version = ">=0.12", python = "^3.7"}]
pyx-core = [{version = "*", python = "~2.7 || ^3.5"}]
pyc-core = [{version = "*", python = "~2.7 || ^3.5", optional = true}]

# All optional dependencies
beos = [{version = ">=1.3", python = "~2.7 || ^3.5", optional = true}]
boxbeam = [{version = "1.3", python = "~2.7 || ^3.5", optional = true}]
damapper = [{version = ">=1.7", python = "^3.6", optional = true}]
displam = [{version = ">=1.3", python = "~2.7 || ^3.5", optional = true}]
mcodac = [{version = ">=1.2", python = "~2.7 || ^3.5"}]
vampire = [{version = ">=0.2.5", python = "^3.7", source = "dlr-sy", optional = true}]

pyx-client = [{version = ">=1.15", python = "^3.7", optional = true}]
pyc-client = [{version = ">=1.10", python = "^3.7", optional = true}]
pyx-webservice = [{version = ">=1.18", python = "^3.7", optional = true}]
pyc-webservice = [{version = ">=1.10", python = "^3.7", optional = true}]

# Additional dependencies for development
[tool.poetry.group.dev.dependencies]
pyx-poetry = [{version = ">=1.18", python="^3.7"}]
pyx-core = [{git = "https://gitlab.dlr.de/fa_sw/stmlab/PyXMake.git"}]
pyc-core = [{git = "https://gitlab.dlr.de/fa_sw/stmlab/PyCODAC.git"}]

[tool.poetry.group.lock.dependencies]
sympy = [{version = "^1.10", python = "~3.7"},
         {version = "^1.11", python = "^3.8"}]

[tool.poetry.extras]
all = ["beos","boxbeam","displam","pyc-core","pyc-webservice","pyx-webservice"]
server = ["pyc-webservice","pyx-webservice"]
client = ["pyc-client","pyx-client"]
displam = ["displam"]
beos = ["beos"]
boxbeam = ["boxbeam"]
damapper = ["damapper"]
mcodac = ["mcodac"]
vampire = ["vampire"]
codac = ["damapper","pyc-core"]

[tool.poetry.scripts]
stmlab = "stmlab.command:main"

[tool.pyxmake.pyinstaller]
name = "stmlab"
icon = "src/stmlab/res/favicon.ico"
output = "bin"
mode = "onedir"