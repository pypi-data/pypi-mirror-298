{% extends "base/templates/base.html.j2" %}

{% block css %}
  <link rel="stylesheet" href="materialize/static/css/materialize.css">
  <link rel="stylesheet" href="materialize/static/css/style.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  {{ super() }}
{% endblock css %}

{% block header %}
  <div class="navbar-fixed">
    <nav class="{{ color }}">
      <div class="nav-wrapper">
        <a href="#" class="my-logo center-align">{{ header.name }}</a>
        <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
        <ul class="right my-hide">
          {% for li in menu -%}
          <li><a href="{{ li.href }}">{{ li.text }}</a></li>
          {% endfor %}
        </ul>
      </div>
    </nav>
  </div>

  <ul class="sidenav {{ color }}" id="mobile-demo">
    {% for li in menu -%}
    <li><a href="{{ li.href }}" class="white-text">{{ li.text }}</a></li>
    {% endfor %}
  </ul>
{% endblock header %}

{% block content %}
  <div class="container">
      {% for section in sections %}
          <section id="{{ section.id }}">
              <a href="#{{ section.id }}">
                  <h2 class="{{ color }}-text center">{{ section.title }}</h2>
              </a>
              {{ section.content }}
          </section>
      {% endfor %}
  </div>
{% endblock content %}

{% block script %}
<script src="materialize/static/js/materialize.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    var elems = document.querySelectorAll('.sidenav');
    var instances = M.Sidenav.init(elems);
  });
  document.addEventListener('DOMContentLoaded', function () {
    var elems = document.querySelectorAll('.carousel');
    var instances = M.Carousel.init(elems, {
      duration: 100,
    });
  });
  document.addEventListener('DOMContentLoaded', function () {
    var elems = document.querySelectorAll('.materialboxed');
    var instances = M.Materialbox.init(elems);
  });
</script>
{{ super() }}
{% endblock script %}

{% block footer %}
  <footer class="page-footer {{ color }}">
      <div class="container">

          <a>
              <h5>{{ header.name }}</h5>
          </a>
          {% if header.footer -%}
              {% if header.footer.contact -%}
              <address>
                  <ul>
                      {% for li in header.footer.contact -%}
                      <li>{{ li }}</li>
                      {% endfor -%}
                  </ul>
              </address>
              {% endif -%}

              {% if header.footer.social -%}
              <div id="social" style="margin: 2rem 0 2rem 0;">
                  {% for social_data in header.footer.social -%}
                  <a href="{{ social_data.url }}" style="padding-right: 1rem; text-decoration: none">
                      <i aria-hidden="true" class="fa-brands fa-{{ social_data.icon }} fa-2xl"
                          style="color: {{ social_data.get('color', 'black') }};"></i>
                      <span class="fa-sr-only">Link to my {{ social_data.icon }} account</span>
                      {%- if social_data.text %}<span>{{ social_data.text }}</span>{%- endif %}
                  </a>
                  {% endfor -%}
              </div>
              {% endif -%}
          {% endif -%}
      </div>
      <div class="copyright {{ color }} darken-1">
          <div class="center">
              Generated by <a href="https://irma.pages.math.unistra.fr/opla/" class="{{ color }}-text text-lighten-4">opla
                  {{ opla_version }}</a>
          </div>
      </div>
  </footer>
{% endblock footer%}