<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>MongoSingleProxy &#8212; mongo_objects 1.2.5 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=12dfc556" />
    <script src="_static/documentation_options.js?v=36f53d34"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="MongoListProxy" href="MongoListProxy.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="mongosingleproxy">
<h1>MongoSingleProxy<a class="headerlink" href="#mongosingleproxy" title="Link to this heading">¶</a></h1>
<section id="data-structure">
<h2>Data Structure<a class="headerlink" href="#data-structure" title="Link to this heading">¶</a></h2>
<p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">MongoDictProxy</span></code> manages a <strong>single subdocument</strong>
as shown in the following structure. See <a class="reference internal" href="proxy_overview.html"><span class="doc">Proxy Overview</span></a> for a list of all
supported data structures.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>                           <span class="c1"># parent document</span>
    <span class="s1">&#39;_id&#39;</span> <span class="p">:</span> <span class="o">...</span><span class="p">,</span>
                            <span class="c1"># no container dictionary or list</span>
    <span class="s1">&#39;venue&#39;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="o">...</span>                 <span class="c1"># subdocument with key &#39;venue&#39;</span>
        <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This data structure can be accessed as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Venue</span><span class="p">(</span> <span class="n">mongo_objects</span><span class="o">.</span><span class="n">MongoSingleProxy</span> <span class="p">):</span>
    <span class="n">container_name</span> <span class="o">=</span> <span class="s1">&#39;venue&#39;</span>

<span class="k">class</span> <span class="nc">Events</span><span class="p">(</span> <span class="n">mongo_objects</span><span class="o">.</span><span class="n">MongoUserDict</span> <span class="p">):</span>
    <span class="n">collection_name</span> <span class="o">=</span> <span class="s1">&#39;events&#39;</span>
    <span class="n">database</span> <span class="o">=</span> <span class="o">...</span> <span class="n">pymongo</span> <span class="n">database</span> <span class="n">connection</span> <span class="nb">object</span> <span class="o">...</span>
</pre></div>
</div>
<p>The same <code class="xref py py-class docutils literal notranslate"><span class="pre">MongoSingleProxy</span></code> proxy definition may be used
as a subdocument in multiple document collections,
for example, an <em>Address</em> subdocument used in the
Customer, Vendor and Employee collections.</p>
</section>
<section id="proxy-keys">
<h2>Proxy Keys<a class="headerlink" href="#proxy-keys" title="Link to this heading">¶</a></h2>
<section id="assigning-key-on-create">
<h3>Assigning Key on Create<a class="headerlink" href="#assigning-key-on-create" title="Link to this heading">¶</a></h3>
<p>The subdocument proxy key is the actual dictionary key used to identify
the subdocument in the parent dictionary. Since there is no separate container,
this is usually the parent document itself.</p>
<p>The key is defined in the class as <cite>container_name</cite>. To keep the parallel with
<code class="xref py py-class docutils literal notranslate"><span class="pre">MongoDictProxy</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">MongoListProxy</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">MongoSingleProxy.get_proxy()</span></code> accepts
a <cite>key</cite> argument when initializing a new proxy object but it is ignored.</p>
</section>
<section id="subdocument-ids">
<h3>Subdocument IDs<a class="headerlink" href="#subdocument-ids" title="Link to this heading">¶</a></h3>
<p>Since the proxy key is an actual dictionary key in our document schema, it is not
necessarily safe to share with users in a URL, for example. To protect against
data schema leakage, the <code class="xref py py-meth docutils literal notranslate"><span class="pre">id()</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">proxy_id()</span></code> methods always use <code class="docutils literal notranslate"><span class="pre">&quot;0&quot;</span></code>
when constructing subdocument IDs for <code class="xref py py-class docutils literal notranslate"><span class="pre">MongoSingleProxy</span></code> instances.</p>
<p>Since the <em>container_name</em> is provided in the class definition,
<a class="reference internal" href="MongoUserDict.html#mongo_objects.MongoUserDict.load_proxy_by_id" title="mongo_objects.MongoUserDict.load_proxy_by_id"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_proxy_by_id()</span></code></a> can create these proxies without problem.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Event</span><span class="p">(</span> <span class="n">mongo_objects</span><span class="o">.</span><span class="n">MongoUserDict</span> <span class="p">):</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">load_venue_by_id</span><span class="p">(</span> <span class="bp">cls</span><span class="p">,</span> <span class="n">venueId</span> <span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">load_proxy_by_id</span><span class="p">(</span> <span class="n">venueId</span><span class="p">,</span> <span class="n">Venue</span> <span class="p">)</span>
</pre></div>
</div>
</section>
<section id="get-proxies">
<h3><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_proxies()</span></code><a class="headerlink" href="#get-proxies" title="Link to this heading">¶</a></h3>
<p>Since <code class="xref py py-class docutils literal notranslate"><span class="pre">MongoSingleProxy</span></code> by definition is a single subdocument, the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">get_proxies()</span></code> method is not supported
and raises an <code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code>.</p>
</section>
</section>
<section id="class-reference">
<h2>Class Reference<a class="headerlink" href="#class-reference" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="mongo_objects.MongoSingleProxy">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mongo_objects.</span></span><span class="sig-name descname"><span class="pre">MongoSingleProxy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mongo_objects.MongoSingleProxy" title="Link to this definition">¶</a></dt>
<dd><p>Implement proxy object for a single subdocument dictionary</p>
<dl class="py method">
<dt class="sig sig-object py" id="mongo_objects.MongoSingleProxy.get_proxy">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_proxy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mongo_objects.MongoSingleProxy.get_proxy" title="Link to this definition">¶</a></dt>
<dd><p>Return a single proxy object passing the arguments through
to calling <a class="reference internal" href="#mongo_objects.MongoSingleProxy.__init__" title="mongo_objects.MongoSingleProxy.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<a class="reference internal" href="MongoUserDict.html#mongo_objects.MongoUserDict" title="mongo_objects.MongoUserDict"><em>MongoUserDict</em></a><em> or </em><em>proxy object</em>) – parent document or subdocument</p></li>
<li><p><strong>key</strong> (<em>str</em>) – ignored; the key is provided by <cite>cls.container_name</cite></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>proxy object</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#mongo_objects.MongoSingleProxy" title="mongo_objects.MongoSingleProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">MongoSingleProxy</span></code></a> subclass</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mongo_objects.MongoSingleProxy.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mongo_objects.MongoSingleProxy.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Instantiate a new single proxy object from the parent dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<a class="reference internal" href="MongoUserDict.html#mongo_objects.MongoUserDict" title="mongo_objects.MongoUserDict"><em>MongoUserDict</em></a><em> or </em><em>proxy object</em>) – parent document or subdocument</p></li>
<li><p><strong>key</strong> – This parameter is kept for the parallel with the other
proxy object but is ignored. The actual key comes from
<a class="reference internal" href="#mongo_objects.MongoSingleProxy.container_name" title="mongo_objects.MongoSingleProxy.container_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">container_name</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>MongoObjectsNonexistentKey</strong> – if the <cite>container_name</cite> key
does not already exist in the parent dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mongo_objects.MongoSingleProxy.container_name">
<span class="sig-name descname"><span class="pre">container_name</span></span><a class="headerlink" href="#mongo_objects.MongoSingleProxy.container_name" title="Link to this definition">¶</a></dt>
<dd><p>Users must override this to provide the name of the dictionary or list container</p>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mongo_objects.MongoSingleProxy.create">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subdoc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autosave</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mongo_objects.MongoSingleProxy.create" title="Link to this definition">¶</a></dt>
<dd><p>Add a new single subdocument dictionary to the parent object.
No new key is auto-assigned as single subdocuments are assigned to fixed keys
based on the class <a class="reference internal" href="#mongo_objects.MongoSingleProxy.container_name" title="mongo_objects.MongoSingleProxy.container_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">container_name</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<a class="reference internal" href="MongoUserDict.html#mongo_objects.MongoUserDict" title="mongo_objects.MongoUserDict"><em>MongoUserDict</em></a><em> or </em><em>proxy object</em>) – parent document or subdocument</p></li>
<li><p><strong>subdoc</strong> (<em>dict</em>) – new subdocument to be added</p></li>
<li><p><strong>autosave</strong> (<em>bool</em>, <cite>None</cite>) – should the parent document be saved
after this new content is added. <cite>None</cite> uses the
ultimate parent class <em>autosave_default</em> value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a proxy object to the new data</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="MongoDictProxy.html#mongo_objects.MongoDictProxy" title="mongo_objects.MongoDictProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">MongoDictProxy</span></code></a> subclass</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mongo_objects.MongoSingleProxy.create_key">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subdoc</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mongo_objects.MongoSingleProxy.create_key" title="Link to this definition">¶</a></dt>
<dd><p>Create a unique key value for this subdocument.
The default implementation requests a hex string for the next unique integer
as saved in the MongoUserDict parent object.</p>
<p>Users may override this using data from the subdoc or other methods to generate a unique key.
It is recommended that the key not be changed once the object is created as it
will invalidate any existing proxies and any subdocument_id strings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<a class="reference internal" href="MongoUserDict.html#mongo_objects.MongoUserDict" title="mongo_objects.MongoUserDict"><em>MongoUserDict</em></a><em> or </em><em>proxy object</em>) – parent document or subdocument</p></li>
<li><p><strong>subdoc</strong> (<em>dict</em>) – the subdocument for which a new key is being created.
The default implementation ignores this parameter but users may find
it useful when overriding this method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a unique string suitable for use as a MongoDB dictionary key</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mongo_objects.MongoSingleProxy.data">
<span class="sig-name descname"><span class="pre">data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mongo_objects.MongoSingleProxy.data" title="Link to this definition">¶</a></dt>
<dd><p>Convenience method to behave similar to UserDict.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The subdocument dictionary proxied from the parent document</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mongo_objects.MongoSingleProxy.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">autosave</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mongo_objects.MongoSingleProxy.delete" title="Link to this definition">¶</a></dt>
<dd><p>Delete the subdocument from the container dictionary.
Remove the key so the proxy can’t be referenced again.
By default save the parent document.</p>
<p>Once a proxy object is deleted the underlying dictionary
no longer exists so all values disappear immediately.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>autosave</strong> (<em>bool</em>, <cite>None</cite>) – should the parent document be saved
after the proxy content is deleted. <cite>None</cite> uses the
ultimate parent class <em>autosave_default</em> value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mongo_objects.MongoSingleProxy.exists">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mongo_objects.MongoSingleProxy.exists" title="Link to this definition">¶</a></dt>
<dd><p>Return True if the key already exists in the parent document</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<a class="reference internal" href="MongoUserDict.html#mongo_objects.MongoUserDict" title="mongo_objects.MongoUserDict"><em>MongoUserDict</em></a><em> or </em><em>proxy object</em>) – parent document or subdocument</p></li>
<li><p><strong>key</strong> – ignored; the actual key comes from <cite>container_name</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mongo_objects.MongoSingleProxy.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mongo_objects.MongoSingleProxy.get" title="Link to this definition">¶</a></dt>
<dd><p>Get a value from the subdocument dictionary</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mongo_objects.MongoSingleProxy.get_proxies">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_proxies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mongo_objects.MongoSingleProxy.get_proxies" title="Link to this definition">¶</a></dt>
<dd><p>get_proxies() doesn’t make sense for single proxy use.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Exception</strong> – always</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mongo_objects.MongoSingleProxy.id">
<span class="sig-name descname"><span class="pre">id</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mongo_objects.MongoSingleProxy.id" title="Link to this definition">¶</a></dt>
<dd><p>Return the full proxy ID including the parent document ID.
This is really just a wrapper around <a class="reference internal" href="#mongo_objects.MongoSingleProxy.proxy_id" title="mongo_objects.MongoSingleProxy.proxy_id"><code class="xref py py-meth docutils literal notranslate"><span class="pre">proxy_id()</span></code></a> but
keeps the parallel with <a class="reference internal" href="MongoUserDict.html#mongo_objects.MongoUserDict" title="mongo_objects.MongoUserDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MongoUserDict</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mongo_objects.MongoSingleProxy.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mongo_objects.MongoSingleProxy.items" title="Link to this definition">¶</a></dt>
<dd><p>Return the items in the subdocument dictionary</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mongo_objects.MongoSingleProxy.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mongo_objects.MongoSingleProxy.keys" title="Link to this definition">¶</a></dt>
<dd><p>Return the keys in the subdocument dictionary</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mongo_objects.MongoSingleProxy.proxy_id">
<span class="sig-name descname"><span class="pre">proxy_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_parent_doc_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mongo_objects.MongoSingleProxy.proxy_id" title="Link to this definition">¶</a></dt>
<dd><p>Assemble a list of proxy IDs into a single string.
Each proxy passes the request up to it’s parent
adding each ID (key) along the way.</p>
<p>To avoid disclosing actual key names in URLs, the ID
for single proxy objects is forced to <code class="docutils literal notranslate"><span class="pre">&quot;0&quot;</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>include_parent_doc_id</strong> (<em>bool</em>) – whether to include the
parent document ID in the resulting ID string</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>One or more proxy IDs separated by <cite>subdoc_key_sep</cite></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mongo_objects.MongoSingleProxy.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mongo_objects.MongoSingleProxy.save" title="Link to this definition">¶</a></dt>
<dd><p>Saving the subdocument means saving the parent object,
so we simply pass the save request up the line.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mongo_objects.MongoSingleProxy.setdefault">
<span class="sig-name descname"><span class="pre">setdefault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mongo_objects.MongoSingleProxy.setdefault" title="Link to this definition">¶</a></dt>
<dd><p>Set a default value in the subdocument dictionary</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mongo_objects.MongoSingleProxy.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mongo_objects.MongoSingleProxy.update" title="Link to this definition">¶</a></dt>
<dd><p>Update the subdocument dictionary with new values</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mongo_objects.MongoSingleProxy.values">
<span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mongo_objects.MongoSingleProxy.values" title="Link to this definition">¶</a></dt>
<dd><p>Return the values in the subdocument dictionary</p>
</dd></dl>

</dd></dl>

</section>
<section id="polymorphic-class-reference">
<h2>Polymorphic Class Reference<a class="headerlink" href="#polymorphic-class-reference" title="Link to this heading">¶</a></h2>
<p>Polymorphic proxies are supported by <a class="reference internal" href="#mongo_objects.PolymorphicMongoSingleProxy" title="mongo_objects.PolymorphicMongoSingleProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">PolymorphicMongoSingleProxy</span></code></a>. All the
attributes and methods of <a class="reference internal" href="#mongo_objects.MongoSingleProxy" title="mongo_objects.MongoSingleProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">MongoSingleProxy</span></code></a> are supported with the following
overrides.</p>
<dl class="py class">
<dt class="sig sig-object py" id="mongo_objects.PolymorphicMongoSingleProxy">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mongo_objects.</span></span><span class="sig-name descname"><span class="pre">PolymorphicMongoSingleProxy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mongo_objects.PolymorphicMongoSingleProxy" title="Link to this definition">¶</a></dt>
<dd><p>Polymorphic version of MongoSingleProxy</p>
<dl class="py method">
<dt class="sig sig-object py" id="mongo_objects.PolymorphicMongoSingleProxy.create">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subdoc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autosave</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mongo_objects.PolymorphicMongoSingleProxy.create" title="Link to this definition">¶</a></dt>
<dd><p>Add the <cite>proxy_subclass_key</cite> before passing
all arguments to the base class <a class="reference internal" href="#mongo_objects.PolymorphicMongoSingleProxy.create" title="mongo_objects.PolymorphicMongoSingleProxy.create"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create()</span></code></a></p>
<p>AccessSingleProxy needs to be first in the object inheritance to get
super() to work properly</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mongo_objects.PolymorphicMongoSingleProxy.get_proxy">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_proxy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mongo_objects.PolymorphicMongoSingleProxy.get_proxy" title="Link to this definition">¶</a></dt>
<dd><p>Return a single proxy object.
Determine the correct subclass type and pass the
arguments to <code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<a class="reference internal" href="MongoUserDict.html#mongo_objects.MongoUserDict" title="mongo_objects.MongoUserDict"><em>MongoUserDict</em></a><em> or </em><em>proxy object</em>) – parent document or subdocument</p></li>
<li><p><strong>key</strong> (<em>str</em>) – ignored; the key is provided by <cite>cls.container_name</cite></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>proxy object</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#mongo_objects.PolymorphicMongoSingleProxy" title="mongo_objects.PolymorphicMongoSingleProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">PolymorphicMongoSingleProxy</span></code></a> subclass</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>MongoObjectsPolymorphicMismatch</strong> – if the resulting object
is not of type <cite>cls</cite> or a subclass of <cite>cls</cite></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">mongo_objects</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="sample.html">Sample Application</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="MongoUserDict.html">MongoUserDict</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="proxy_overview.html">Proxy Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="MongoDictProxy.html">MongoDictProxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="MongoListProxy.html">MongoListProxy</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">MongoSingleProxy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#data-structure">Data Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#proxy-keys">Proxy Keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="#class-reference">Class Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="#polymorphic-class-reference">Polymorphic Class Reference</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="MongoListProxy.html" title="previous chapter">MongoListProxy</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Jonathan Lindstrom.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/MongoSingleProxy.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>