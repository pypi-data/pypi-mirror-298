import{s as Wt,B as Qt,E as ae,p as he,j as Jt,q as me,e as g,t as G,k as V,c as _,a as p,b as Q,d as n,o as S,A as qt,f as s,i as q,g as a,C as Gt,u as ht,D as Pe,h as it,F as re,y as yt,m as We,z as xt,n as ve,J as $e,l as Ie}from"../chunks/scheduler.DB3Sqaa-.js";import{S as ne,i as oe,f as ie,b as Nt,d as Ct,m as Ht,t as ct,a as pt,e as Ut,g as ee,c as le}from"../chunks/index.CZN8UBAJ.js";import{g as Ye}from"../chunks/globals.D0QH3NT1.js";import{e as se}from"../chunks/each.BmvfzIZP.js";import{t as Bt}from"../chunks/Toaster.svelte_svelte_type_style_lang.C-7zrEBl.js";import{f as Ze}from"../chunks/FileSaver.min.CimDdHIv.js";import{n as Lt,S as ze,o as qe,W as Ke,s as tl}from"../chunks/index.DG_x0ggz.js";import{u as el,g as Pt,t as Te,d as Ve,c as Se}from"../chunks/index.B0F50bkq.js";import{u as ll,p as sl}from"../chunks/index.BIKck-c6.js";import{h as al,t as rl}from"../chunks/index.Dqt4dRBk.js";import{C as Re}from"../chunks/Checkbox.DX3dJwwn.js";import"../chunks/dayjs.min.CnqrW7zs.js";import{M as Je}from"../chunks/Modal.pDJBaGK4.js";import{T as Ge}from"../chunks/Tags.CVji3o-H.js";import"../chunks/sha256.CRlV3BEV.js";import{A as nl}from"../chunks/AddFilesPlaceholder.OEwmA_V6.js";import{t as ol}from"../chunks/index.-OjXR_Ia.js";function il(e){let t,l,r,f=e[3].t("Edit Doc")+"",u,o,d,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,i,m,w,k,x,L,N=e[3].t("Name Tag")+"",E,A,y,P,$="#",rt,O,K,J,j,st=e[3].t("Title")+"",ut,et,C,H,mt,ot,tt,X=e[3].t("Tags")+"",F,W,c,T,z,R,B=e[3].t("Save")+"",lt,M,U,Y;return c=new Ge({props:{tags:e[1],addTag:e[6],deleteTag:e[7]}}),{c(){t=g("div"),l=g("div"),r=g("div"),u=G(f),o=V(),d=g("button"),d.innerHTML=h,b=V(),i=g("div"),m=g("div"),w=g("form"),k=g("div"),x=g("div"),L=g("div"),E=G(N),A=V(),y=g("div"),P=g("div"),P.textContent=$,rt=V(),O=g("input"),K=V(),J=g("div"),j=g("div"),ut=G(st),et=V(),C=g("div"),H=g("input"),mt=V(),ot=g("div"),tt=g("div"),F=G(X),W=V(),Nt(c.$$.fragment),T=V(),z=g("div"),R=g("button"),lt=G(B),this.h()},l(D){t=_(D,"DIV",{});var Z=p(t);l=_(Z,"DIV",{class:!0});var nt=p(l);r=_(nt,"DIV",{class:!0});var kt=p(r);u=Q(kt,f),kt.forEach(n),o=S(nt),d=_(nt,"BUTTON",{class:!0,"data-svelte-h":!0}),qt(d)!=="svelte-745w2y"&&(d.innerHTML=h),nt.forEach(n),b=S(Z),i=_(Z,"DIV",{class:!0});var bt=p(i);m=_(bt,"DIV",{class:!0});var Tt=p(m);w=_(Tt,"FORM",{class:!0});var Dt=p(w);k=_(Dt,"DIV",{class:!0});var gt=p(k);x=_(gt,"DIV",{class:!0});var Vt=p(x);L=_(Vt,"DIV",{class:!0});var At=p(L);E=Q(At,N),At.forEach(n),A=S(Vt),y=_(Vt,"DIV",{class:!0});var _t=p(y);P=_(_t,"DIV",{class:!0,"data-svelte-h":!0}),qt(P)!=="svelte-1xdm6fj"&&(P.textContent=$),rt=S(_t),O=_(_t,"INPUT",{class:!0,type:!0,autocomplete:!0}),_t.forEach(n),Vt.forEach(n),K=S(gt),J=_(gt,"DIV",{class:!0});var It=p(J);j=_(It,"DIV",{class:!0});var jt=p(j);ut=Q(jt,st),jt.forEach(n),et=S(It),C=_(It,"DIV",{class:!0});var $t=p(C);H=_($t,"INPUT",{class:!0,type:!0,autocomplete:!0}),$t.forEach(n),It.forEach(n),mt=S(gt),ot=_(gt,"DIV",{class:!0});var Ft=p(ot);tt=_(Ft,"DIV",{class:!0});var St=p(tt);F=Q(St,X),St.forEach(n),W=S(Ft),Ct(c.$$.fragment,Ft),Ft.forEach(n),gt.forEach(n),T=S(Dt),z=_(Dt,"DIV",{class:!0});var Xt=p(z);R=_(Xt,"BUTTON",{class:!0,type:!0});var wt=p(R);lt=Q(wt,B),wt.forEach(n),Xt.forEach(n),Dt.forEach(n),Tt.forEach(n),bt.forEach(n),Z.forEach(n),this.h()},h(){s(r,"class","text-lg font-medium self-center"),s(d,"class","self-center"),s(l,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),s(L,"class","mb-1 text-xs text-gray-500"),s(P,"class","bg-gray-200 dark:bg-gray-800 font-semibold px-3 py-0.5 border border-r-0 dark:border-gray-800 rounded-l-xl flex items-center"),s(O,"class","w-full rounded-r-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 disabled:text-gray-500 dark:disabled:text-gray-500 outline-none svelte-1vx7r9s"),s(O,"type","text"),s(O,"autocomplete","off"),O.required=!0,s(y,"class","flex flex-1"),s(x,"class","flex flex-col w-full"),s(j,"class","mb-1 text-xs text-gray-500"),s(H,"class","w-full rounded-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none svelte-1vx7r9s"),s(H,"type","text"),s(H,"autocomplete","off"),H.required=!0,s(C,"class","flex-1"),s(J,"class","flex flex-col w-full"),s(tt,"class","mb-2 text-xs text-gray-500"),s(ot,"class","flex flex-col w-full"),s(k,"class","flex flex-col space-y-1.5"),s(R,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),s(R,"type","submit"),s(z,"class","flex justify-end pt-5 text-sm font-medium"),s(w,"class","flex flex-col w-full"),s(m,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),s(i,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(D,Z){q(D,t,Z),a(t,l),a(l,r),a(r,u),a(l,o),a(l,d),a(t,b),a(t,i),a(i,m),a(m,w),a(w,k),a(k,x),a(x,L),a(L,E),a(x,A),a(x,y),a(y,P),a(y,rt),a(y,O),Gt(O,e[2].name),a(k,K),a(k,J),a(J,j),a(j,ut),a(J,et),a(J,C),a(C,H),Gt(H,e[2].title),a(k,mt),a(k,ot),a(ot,tt),a(tt,F),a(ot,W),Ht(c,ot,null),a(w,T),a(w,z),a(z,R),a(R,lt),M=!0,U||(Y=[ht(d,"click",e[9]),ht(O,"input",e[10]),ht(H,"input",e[11]),ht(w,"submit",Pe(e[12]))],U=!0)},p(D,Z){(!M||Z&8)&&f!==(f=D[3].t("Edit Doc")+"")&&it(u,f),(!M||Z&8)&&N!==(N=D[3].t("Name Tag")+"")&&it(E,N),Z&4&&O.value!==D[2].name&&Gt(O,D[2].name),(!M||Z&8)&&st!==(st=D[3].t("Title")+"")&&it(ut,st),Z&4&&H.value!==D[2].title&&Gt(H,D[2].title),(!M||Z&8)&&X!==(X=D[3].t("Tags")+"")&&it(F,X);const nt={};Z&2&&(nt.tags=D[1]),c.$set(nt),(!M||Z&8)&&B!==(B=D[3].t("Save")+"")&&it(lt,B)},i(D){M||(ct(c.$$.fragment,D),M=!0)},o(D){pt(c.$$.fragment,D),M=!1},d(D){D&&n(t),Ut(c),U=!1,re(Y)}}}function cl(e){let t,l,r;function f(o){e[13](o)}let u={size:"sm",$$slots:{default:[il]},$$scope:{ctx:e}};return e[0]!==void 0&&(u.show=e[0]),t=new Je({props:u}),Qt.push(()=>ie(t,"show",f)),{c(){Nt(t.$$.fragment)},l(o){Ct(t.$$.fragment,o)},m(o,d){Ht(t,o,d),r=!0},p(o,[d]){const h={};d&16399&&(h.$$scope={dirty:d,ctx:o}),!l&&d&1&&(l=!0,h.show=o[0],ae(()=>l=!1)),t.$set(h)},i(o){r||(ct(t.$$.fragment,o),r=!0)},o(o){pt(t.$$.fragment,o),r=!1},d(o){Ut(t,o)}}}function ul(e,t,l){let r;const f=he("i18n");Jt(e,f,E=>l(3,r=E));let{show:u=!1}=t,{selectedDoc:o}=t,d=[],h={name:"",title:"",content:null};const b=async()=>{await el(localStorage.token,o.name,{title:h.title,name:h.name}).catch(A=>{Bt.error(A)})&&(l(0,u=!1),Lt.set(await Pt(localStorage.token)))},i=async E=>{!d.find(A=>A.name===E)&&E!==""?(l(1,d=[...d,{name:E}]),await Te(localStorage.token,h.name,{name:h.name,tags:d}),Lt.set(await Pt(localStorage.token))):console.log("tag already exists")},m=async E=>{l(1,d=d.filter(A=>A.name!==E)),await Te(localStorage.token,h.name,{name:h.name,tags:d}),Lt.set(await Pt(localStorage.token))};me(()=>{var E;o&&(l(2,h=JSON.parse(JSON.stringify(o))),l(1,d=((E=h==null?void 0:h.content)==null?void 0:E.tags)??[]))});const w=()=>{l(0,u=!1)};function k(){h.name=this.value,l(2,h)}function x(){h.title=this.value,l(2,h)}const L=()=>{b()};function N(E){u=E,l(0,u)}return e.$$set=E=>{"show"in E&&l(0,u=E.show),"selectedDoc"in E&&l(8,o=E.selectedDoc)},[u,d,h,r,f,b,i,m,o,w,k,x,L,N]}class dl extends ne{constructor(t){super(),oe(this,t,ul,cl,Wt,{show:0,selectedDoc:8})}}function fl(e){let t=e[4].t("Click here to select documents.")+"",l;return{c(){l=G(t)},l(r){l=Q(r,t)},m(r,f){q(r,l,f)},p(r,f){f&16&&t!==(t=r[4].t("Click here to select documents.")+"")&&it(l,t)},d(r){r&&n(l)}}}function hl(e){let t=e[2].length>0?`${e[2].length}`:"",l,r;return{c(){l=G(t),r=G(" document(s) selected.")},l(f){l=Q(f,t),r=Q(f," document(s) selected.")},m(f,u){q(f,l,u),q(f,r,u)},p(f,u){u&4&&t!==(t=f[2].length>0?`${f[2].length}`:"")&&it(l,t)},d(f){f&&(n(l),n(r))}}}function ml(e){let t,l,r,f=e[4].t("Add Docs")+"",u,o,d,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,i,m,w,k,x,L,N,E,A,y,P,$=e[4].t("Tags")+"",rt,O,K,J,j,st,ut=e[4].t("Save")+"",et,C,H,mt;function ot(F,W){return F[2]?hl:fl}let tt=ot(e),X=tt(e);return K=new Ge({props:{tags:e[3],addTag:e[7],deleteTag:e[8]}}),{c(){t=g("div"),l=g("div"),r=g("div"),u=G(f),o=V(),d=g("button"),d.innerHTML=h,b=V(),i=g("div"),m=g("div"),w=g("form"),k=g("div"),x=g("input"),L=V(),N=g("button"),X.c(),E=V(),A=g("div"),y=g("div"),P=g("div"),rt=G($),O=V(),Nt(K.$$.fragment),J=V(),j=g("div"),st=g("button"),et=G(ut),this.h()},l(F){t=_(F,"DIV",{});var W=p(t);l=_(W,"DIV",{class:!0});var c=p(l);r=_(c,"DIV",{class:!0});var T=p(r);u=Q(T,f),T.forEach(n),o=S(c),d=_(c,"BUTTON",{class:!0,"data-svelte-h":!0}),qt(d)!=="svelte-745w2y"&&(d.innerHTML=h),c.forEach(n),b=S(W),i=_(W,"DIV",{class:!0});var z=p(i);m=_(z,"DIV",{class:!0});var R=p(m);w=_(R,"FORM",{class:!0});var B=p(w);k=_(B,"DIV",{class:!0});var lt=p(k);x=_(lt,"INPUT",{id:!0,type:!0,class:!0}),L=S(lt),N=_(lt,"BUTTON",{class:!0,type:!0});var M=p(N);X.l(M),M.forEach(n),lt.forEach(n),E=S(B),A=_(B,"DIV",{class:!0});var U=p(A);y=_(U,"DIV",{class:!0});var Y=p(y);P=_(Y,"DIV",{class:!0});var D=p(P);rt=Q(D,$),D.forEach(n),O=S(Y),Ct(K.$$.fragment,Y),Y.forEach(n),U.forEach(n),J=S(B),j=_(B,"DIV",{class:!0});var Z=p(j);st=_(Z,"BUTTON",{class:!0,type:!0});var nt=p(st);et=Q(nt,ut),nt.forEach(n),Z.forEach(n),B.forEach(n),R.forEach(n),z.forEach(n),W.forEach(n),this.h()},h(){s(r,"class","text-lg font-medium self-center"),s(d,"class","self-center"),s(l,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),s(x,"id","upload-doc-input"),x.hidden=!0,s(x,"type","file"),x.multiple=!0,s(x,"class","svelte-1vx7r9s"),s(N,"class","w-full text-sm font-medium py-3 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 text-center rounded-xl"),s(N,"type","button"),s(k,"class","mb-3 w-full"),s(P,"class","mb-1.5 text-xs text-gray-500"),s(y,"class","flex flex-col w-full"),s(A,"class","flex flex-col space-y-1.5"),s(st,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),s(st,"type","submit"),s(j,"class","flex justify-end pt-5 text-sm font-medium"),s(w,"class","flex flex-col w-full"),s(m,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),s(i,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(F,W){q(F,t,W),a(t,l),a(l,r),a(r,u),a(l,o),a(l,d),a(t,b),a(t,i),a(i,m),a(m,w),a(w,k),a(k,x),e[11](x),a(k,L),a(k,N),X.m(N,null),a(w,E),a(w,A),a(A,y),a(y,P),a(P,rt),a(y,O),Ht(K,y,null),a(w,J),a(w,j),a(j,st),a(st,et),C=!0,H||(mt=[ht(d,"click",e[10]),ht(x,"change",e[12]),ht(N,"click",e[13]),ht(w,"submit",Pe(e[14]))],H=!0)},p(F,W){(!C||W&16)&&f!==(f=F[4].t("Add Docs")+"")&&it(u,f),tt===(tt=ot(F))&&X?X.p(F,W):(X.d(1),X=tt(F),X&&(X.c(),X.m(N,null))),(!C||W&16)&&$!==($=F[4].t("Tags")+"")&&it(rt,$);const c={};W&8&&(c.tags=F[3]),K.$set(c),(!C||W&16)&&ut!==(ut=F[4].t("Save")+"")&&it(et,ut)},i(F){C||(ct(K.$$.fragment,F),C=!0)},o(F){pt(K.$$.fragment,F),C=!1},d(F){F&&n(t),e[11](null),X.d(),Ut(K),H=!1,re(mt)}}}function vl(e){let t,l,r;function f(o){e[15](o)}let u={size:"sm",$$slots:{default:[ml]},$$scope:{ctx:e}};return e[0]!==void 0&&(u.show=e[0]),t=new Je({props:u}),Qt.push(()=>ie(t,"show",f)),{c(){Nt(t.$$.fragment)},l(o){Ct(t.$$.fragment,o)},m(o,d){Ht(t,o,d),r=!0},p(o,[d]){const h={};d&131103&&(h.$$scope={dirty:d,ctx:o}),!l&&d&1&&(l=!0,h.show=o[0],ae(()=>l=!1)),t.$set(h)},i(o){r||(ct(t.$$.fragment,o),r=!0)},o(o){pt(t.$$.fragment,o),r=!1},d(o){Ut(t,o)}}}function pl(e,t,l){let r;const f=he("i18n");Jt(e,f,y=>l(4,r=y));let{show:u=!1}=t,{uploadDoc:o}=t,d,h,b=[];const i=async()=>{if(h&&h.length>0){for(const y of h)console.log(y,y.name.split(".").at(-1)),ze.includes(y.type)||qe.includes(y.name.split(".").at(-1))||Bt.error(`Unknown File Type '${y.type}', but accepting and treating as plain text`),o(y,b);l(2,h=null),l(1,d.value="",d)}else Bt.error(r.t("File not found."));l(0,u=!1),Lt.set(await Pt(localStorage.token))},m=async y=>{!b.find(P=>P.name===y)&&y!==""?l(3,b=[...b,{name:y}]):console.log("tag already exists")},w=async y=>{l(3,b=b.filter(P=>P.name!==y))};me(()=>{});const k=()=>{l(0,u=!1)};function x(y){Qt[y?"unshift":"push"](()=>{d=y,l(1,d)})}function L(){h=this.files,l(2,h)}const N=()=>{d.click()},E=()=>{i()};function A(y){u=y,l(0,u)}return e.$$set=y=>{"show"in y&&l(0,u=y.show),"uploadDoc"in y&&l(9,o=y.uploadDoc)},[u,d,h,b,r,f,i,m,w,o,k,x,L,N,E,A]}class gl extends ne{constructor(t){super(),oe(this,t,pl,vl,Wt,{show:0,uploadDoc:9})}}const{document:fe}=Ye;function Me(e,t,l){const r=e.slice();return r[35]=t[l],r[36]=t,r[37]=l,r}function Be(e,t,l){const r=e.slice();return r[38]=t[l],r}function Le(e){let t,l,r,f,u,o,d;return u=new nl({props:{$$slots:{default:[_l]},$$scope:{ctx:e}}}),{c(){t=g("div"),l=g("div"),r=g("div"),f=g("div"),Nt(u.$$.fragment),this.h()},l(h){t=_(h,"DIV",{class:!0,id:!0,role:!0,"aria-label":!0});var b=p(t);l=_(b,"DIV",{class:!0});var i=p(l);r=_(i,"DIV",{class:!0});var m=p(r);f=_(m,"DIV",{class:!0});var w=p(f);Ct(u.$$.fragment,w),w.forEach(n),m.forEach(n),i.forEach(n),b.forEach(n),this.h()},h(){s(f,"class","max-w-md"),s(r,"class","m-auto pt-64 flex flex-col justify-center"),s(l,"class","absolute w-full h-full backdrop-blur bg-gray-800/40 flex justify-center"),s(t,"class",o="fixed "+(e[13]?"left-0 md:left-[260px] md:w-[calc(100%-260px)]":"left-0")+" w-full h-full flex z-50 touch-none pointer-events-none"),s(t,"id","dropzone"),s(t,"role","region"),s(t,"aria-label","Drag and Drop Container")},m(h,b){q(h,t,b),a(t,l),a(l,r),a(r,f),Ht(u,f,null),d=!0},p(h,b){const i={};b[1]&1024&&(i.$$scope={dirty:b,ctx:h}),u.$set(i),(!d||b[0]&8192&&o!==(o="fixed "+(h[13]?"left-0 md:left-[260px] md:w-[calc(100%-260px)]":"left-0")+" w-full h-full flex z-50 touch-none pointer-events-none"))&&s(t,"class",o)},i(h){d||(ct(u.$$.fragment,h),d=!0)},o(h){pt(u.$$.fragment,h),d=!1},d(h){h&&n(t),Ut(u)}}}function _l(e){let t,l="Drop any files here to add to my documents";return{c(){t=g("div"),t.textContent=l,this.h()},l(r){t=_(r,"DIV",{class:!0,"data-svelte-h":!0}),qt(t)!=="svelte-19eg75t"&&(t.textContent=l),this.h()},h(){s(t,"class","mt-2 text-center text-sm dark:text-gray-200 w-full")},m(r,f){q(r,t,f)},p:ve,d(r){r&&n(t)}}}function Ne(e){let t,l,r;function f(o){e[19](o)}let u={selectedDoc:e[8]};return e[7]!==void 0&&(u.show=e[7]),t=new dl({props:u}),Qt.push(()=>ie(t,"show",f)),{c(){Nt(t.$$.fragment)},l(o){Ct(t.$$.fragment,o)},m(o,d){Ht(t,o,d),r=!0},p(o,d){const h={};d[0]&256&&(h.selectedDoc=o[8]),!l&&d[0]&128&&(l=!0,h.show=o[7],ae(()=>l=!1)),t.$set(h)},i(o){r||(ct(t.$$.fragment,o),r=!0)},o(o){pt(t.$$.fragment,o),r=!1},d(o){Ut(t,o)}}}function Ce(e){let t,l,r,f,u,o;r=new Re({props:{state:e[10].filter(Ae).length===e[10].length?"checked":"unchecked",indeterminate:e[10].filter(Oe).length>0&&e[10].filter(je).length!==e[10].length}}),r.$on("change",e[23]);function d(i,m){return m[0]&1024&&(u=null),u==null&&(u=i[10].filter(Dl).length===0),u?wl:bl}let h=d(e,[-1,-1]),b=h(e);return{c(){t=g("div"),l=g("div"),Nt(r.$$.fragment),f=V(),b.c(),this.h()},l(i){t=_(i,"DIV",{class:!0});var m=p(t);l=_(m,"DIV",{class:!0});var w=p(l);Ct(r.$$.fragment,w),w.forEach(n),f=S(m),b.l(m),m.forEach(n),this.h()},h(){s(l,"class","ml-0.5 pr-3 my-auto flex items-center"),s(t,"class","px-2.5 pt-1 flex gap-1 flex-wrap")},m(i,m){q(i,t,m),a(t,l),Ht(r,l,null),a(t,f),b.m(t,null),o=!0},p(i,m){const w={};m[0]&1024&&(w.state=i[10].filter(Ae).length===i[10].length?"checked":"unchecked"),m[0]&1024&&(w.indeterminate=i[10].filter(Oe).length>0&&i[10].filter(je).length!==i[10].length),r.$set(w),h===(h=d(i,m))&&b?b.p(i,m):(b.d(1),b=h(i),b&&(b.c(),b.m(t,null)))},i(i){o||(ct(r.$$.fragment,i),o=!0)},o(i){pt(r.$$.fragment,i),o=!1},d(i){i&&n(t),Ut(r),b.d()}}}function bl(e){let t,l,r=e[10].filter(Fe).length+"",f,u,o,d,h,b,i=e[11].t("delete")+"",m,w,k;return{c(){t=g("div"),l=g("div"),f=G(r),u=G(" Selected"),o=V(),d=g("div"),h=g("button"),b=g("div"),m=G(i),this.h()},l(x){t=_(x,"DIV",{class:!0});var L=p(t);l=_(L,"DIV",{class:!0});var N=p(l);f=Q(N,r),u=Q(N," Selected"),N.forEach(n),o=S(L),d=_(L,"DIV",{class:!0});var E=p(d);h=_(E,"BUTTON",{class:!0});var A=p(h);b=_(A,"DIV",{class:!0});var y=p(b);m=Q(y,i),y.forEach(n),A.forEach(n),E.forEach(n),L.forEach(n),this.h()},h(){s(l,"class","text-xs font-medium py-0.5 self-center mr-1"),s(b,"class","text-xs font-medium self-center line-clamp-1"),s(h,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white"),s(d,"class","flex gap-1"),s(t,"class","flex-1 flex w-full justify-between items-center")},m(x,L){q(x,t,L),a(t,l),a(l,f),a(l,u),a(t,o),a(t,d),a(d,h),a(h,b),a(b,m),w||(k=ht(h,"click",e[26]),w=!0)},p(x,L){L[0]&1024&&r!==(r=x[10].filter(Fe).length+"")&&it(f,r),L[0]&2048&&i!==(i=x[11].t("delete")+"")&&it(m,i)},d(x){x&&n(t),w=!1,k()}}}function wl(e){let t,l,r=e[11].t("all")+"",f,u,o,d,h,b=se(e[5]),i=[];for(let m=0;m<b.length;m+=1)i[m]=He(Be(e,b,m));return{c(){t=g("button"),l=g("div"),f=G(r),u=V();for(let m=0;m<i.length;m+=1)i[m].c();o=Ie(),this.h()},l(m){t=_(m,"BUTTON",{class:!0});var w=p(t);l=_(w,"DIV",{class:!0});var k=p(l);f=Q(k,r),k.forEach(n),w.forEach(n),u=S(m);for(let x=0;x<i.length;x+=1)i[x].l(m);o=Ie(),this.h()},h(){s(l,"class","text-xs font-medium self-center line-clamp-1"),s(t,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(m,w){q(m,t,w),a(t,l),a(l,f),q(m,u,w);for(let k=0;k<i.length;k+=1)i[k]&&i[k].m(m,w);q(m,o,w),d||(h=ht(t,"click",e[24]),d=!0)},p(m,w){if(w[0]&2048&&r!==(r=m[11].t("all")+"")&&it(f,r),w[0]&34){b=se(m[5]);let k;for(k=0;k<b.length;k+=1){const x=Be(m,b,k);i[k]?i[k].p(x,w):(i[k]=He(x),i[k].c(),i[k].m(o.parentNode,o))}for(;k<i.length;k+=1)i[k].d(1);i.length=b.length}},d(m){m&&(n(t),n(u),n(o)),$e(i,m),d=!1,h()}}}function He(e){let t,l,r,f=e[38]+"",u,o,d,h;function b(){return e[25](e[38])}return{c(){t=g("button"),l=g("div"),r=G("#"),u=G(f),o=V(),this.h()},l(i){t=_(i,"BUTTON",{class:!0});var m=p(t);l=_(m,"DIV",{class:!0});var w=p(l);r=Q(w,"#"),u=Q(w,f),w.forEach(n),o=S(m),m.forEach(n),this.h()},h(){s(l,"class","text-xs font-medium self-center line-clamp-1"),s(t,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(i,m){q(i,t,m),a(t,l),a(l,r),a(l,u),a(t,o),d||(h=ht(t,"click",b),d=!0)},p(i,m){e=i,m[0]&32&&f!==(f=e[38]+"")&&it(u,f)},d(i){i&&n(t),d=!1,h()}}}function kl(e){let t,l,r,f,u,o;return{c(){t=yt("svg"),l=yt("style"),r=G(`.spinner_qM83 {
										animation: spinner_8HQG 1.05s infinite;
									}
									.spinner_oXPr {
										animation-delay: 0.1s;
									}
									.spinner_ZTLf {
										animation-delay: 0.2s;
									}
									@keyframes spinner_8HQG {
										0%,
										57.14% {
											animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
											transform: translate(0);
										}
										28.57% {
											animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
											transform: translateY(-6px);
										}
										100% {
											transform: translate(0);
										}
									}
								`),f=yt("circle"),u=yt("circle"),o=yt("circle"),this.h()},l(d){t=xt(d,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var h=p(t);l=xt(h,"style",{});var b=p(l);r=Q(b,`.spinner_qM83 {
										animation: spinner_8HQG 1.05s infinite;
									}
									.spinner_oXPr {
										animation-delay: 0.1s;
									}
									.spinner_ZTLf {
										animation-delay: 0.2s;
									}
									@keyframes spinner_8HQG {
										0%,
										57.14% {
											animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
											transform: translate(0);
										}
										28.57% {
											animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
											transform: translateY(-6px);
										}
										100% {
											transform: translate(0);
										}
									}
								`),b.forEach(n),f=xt(h,"circle",{class:!0,cx:!0,cy:!0,r:!0}),p(f).forEach(n),u=xt(h,"circle",{class:!0,cx:!0,cy:!0,r:!0}),p(u).forEach(n),o=xt(h,"circle",{class:!0,cx:!0,cy:!0,r:!0}),p(o).forEach(n),h.forEach(n),this.h()},h(){s(f,"class","spinner_qM83"),s(f,"cx","4"),s(f,"cy","12"),s(f,"r","2.5"),s(u,"class","spinner_qM83 spinner_oXPr"),s(u,"cx","12"),s(u,"cy","12"),s(u,"r","2.5"),s(o,"class","spinner_qM83 spinner_ZTLf"),s(o,"cx","20"),s(o,"cy","12"),s(o,"r","2.5"),s(t,"class","w-6 h-6 translate-y-[0.5px]"),s(t,"fill","currentColor"),s(t,"viewBox","0 0 24 24"),s(t,"xmlns","http://www.w3.org/2000/svg")},m(d,h){q(d,t,h),a(t,l),a(l,r),a(t,f),a(t,u),a(t,o)},d(d){d&&n(t)}}}function yl(e){let t,l,r;return{c(){t=yt("svg"),l=yt("path"),r=yt("path"),this.h()},l(f){t=xt(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var u=p(t);l=xt(u,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(l).forEach(n),r=xt(u,"path",{d:!0}),p(r).forEach(n),u.forEach(n),this.h()},h(){s(l,"fill-rule","evenodd"),s(l,"d","M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z"),s(l,"clip-rule","evenodd"),s(r,"d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"),s(t,"xmlns","http://www.w3.org/2000/svg"),s(t,"viewBox","0 0 24 24"),s(t,"fill","currentColor"),s(t,"class","w-6 h-6")},m(f,u){q(f,t,u),a(t,l),a(t,r)},d(f){f&&n(t)}}}function Ue(e){var lt;let t,l,r,f,u,o,d,h,b,i,m,w=e[35].name+"",k,x,L=e[35].filename+"",N,E,A,y,P=e[35].title+"",$,rt,O,K,J,j,st,ut,et,C,H,mt,ot,tt,X,F;r=new Re({props:{state:((lt=e[35])==null?void 0:lt.selected)??"unchecked"}});function W(M,U){return M[35]?yl:kl}let c=W(e),T=c(e);function z(...M){return e[27](e[35],...M)}function R(...M){return e[28](e[35],...M)}function B(){return e[29](e[35],e[36],e[37])}return{c(){t=g("button"),l=g("div"),Nt(r.$$.fragment),f=V(),u=g("div"),o=g("div"),d=g("div"),T.c(),h=V(),b=g("div"),i=g("div"),m=G("#"),k=G(w),x=G(" ("),N=G(L),E=G(")"),A=V(),y=g("div"),$=G(P),rt=V(),O=g("div"),K=g("button"),J=yt("svg"),j=yt("path"),ut=V(),et=g("button"),C=yt("svg"),H=yt("path"),ot=V(),this.h()},l(M){t=_(M,"BUTTON",{class:!0});var U=p(t);l=_(U,"DIV",{class:!0});var Y=p(l);Ct(r.$$.fragment,Y),Y.forEach(n),f=S(U),u=_(U,"DIV",{class:!0});var D=p(u);o=_(D,"DIV",{class:!0});var Z=p(o);d=_(Z,"DIV",{class:!0});var nt=p(d);T.l(nt),nt.forEach(n),h=S(Z),b=_(Z,"DIV",{class:!0});var kt=p(b);i=_(kt,"DIV",{class:!0});var bt=p(i);m=Q(bt,"#"),k=Q(bt,w),x=Q(bt," ("),N=Q(bt,L),E=Q(bt,")"),bt.forEach(n),A=S(kt),y=_(kt,"DIV",{class:!0});var Tt=p(y);$=Q(Tt,P),Tt.forEach(n),kt.forEach(n),Z.forEach(n),D.forEach(n),rt=S(U),O=_(U,"DIV",{class:!0});var Dt=p(O);K=_(Dt,"BUTTON",{class:!0,type:!0,"aria-label":!0});var gt=p(K);J=xt(gt,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var Vt=p(J);j=xt(Vt,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),p(j).forEach(n),Vt.forEach(n),gt.forEach(n),ut=S(Dt),et=_(Dt,"BUTTON",{class:!0,type:!0,"aria-label":!0});var At=p(et);C=xt(At,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var _t=p(C);H=xt(_t,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),p(H).forEach(n),_t.forEach(n),At.forEach(n),Dt.forEach(n),ot=S(U),U.forEach(n),this.h()},h(){s(l,"class","my-auto flex items-center"),s(d,"class","p-2.5 bg-red-400 text-white rounded-lg"),s(i,"class","font-semibold line-clamp-1"),s(y,"class","text-xs overflow-hidden text-ellipsis line-clamp-1"),s(b,"class","self-center flex-1"),s(o,"class","flex items-center space-x-3"),s(u,"class","flex flex-1 space-x-4 cursor-pointer w-full"),s(j,"stroke-linecap","round"),s(j,"stroke-linejoin","round"),s(j,"d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"),s(J,"xmlns","http://www.w3.org/2000/svg"),s(J,"fill","none"),s(J,"viewBox","0 0 24 24"),s(J,"stroke-width","1.5"),s(J,"stroke","currentColor"),s(J,"class","w-4 h-4"),s(K,"class","self-center w-fit text-sm z-20 px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),s(K,"type","button"),s(K,"aria-label",st=e[11].t("Edit Doc")),s(H,"stroke-linecap","round"),s(H,"stroke-linejoin","round"),s(H,"d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"),s(C,"xmlns","http://www.w3.org/2000/svg"),s(C,"fill","none"),s(C,"viewBox","0 0 24 24"),s(C,"stroke-width","1.5"),s(C,"stroke","currentColor"),s(C,"class","w-4 h-4"),s(et,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),s(et,"type","button"),s(et,"aria-label",mt=e[11].t("Delete Doc")),s(O,"class","flex flex-row space-x-1 self-center"),s(t,"class","flex space-x-4 cursor-pointer text-left w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl")},m(M,U){q(M,t,U),a(t,l),Ht(r,l,null),a(t,f),a(t,u),a(u,o),a(o,d),T.m(d,null),a(o,h),a(o,b),a(b,i),a(i,m),a(i,k),a(i,x),a(i,N),a(i,E),a(b,A),a(b,y),a(y,$),a(t,rt),a(t,O),a(O,K),a(K,J),a(J,j),a(O,ut),a(O,et),a(et,C),a(C,H),a(t,ot),tt=!0,X||(F=[ht(K,"click",z),ht(et,"click",R),ht(t,"click",B)],X=!0)},p(M,U){var D;e=M;const Y={};U[0]&1024&&(Y.state=((D=e[35])==null?void 0:D.selected)??"unchecked"),r.$set(Y),c!==(c=W(e))&&(T.d(1),T=c(e),T&&(T.c(),T.m(d,null))),(!tt||U[0]&1024)&&w!==(w=e[35].name+"")&&it(k,w),(!tt||U[0]&1024)&&L!==(L=e[35].filename+"")&&it(N,L),(!tt||U[0]&1024)&&P!==(P=e[35].title+"")&&it($,P),(!tt||U[0]&2048&&st!==(st=e[11].t("Edit Doc")))&&s(K,"aria-label",st),(!tt||U[0]&2048&&mt!==(mt=e[11].t("Delete Doc")))&&s(et,"aria-label",mt)},i(M){tt||(ct(r.$$.fragment,M),tt=!0)},o(M){pt(r.$$.fragment,M),tt=!1},d(M){M&&n(t),Ut(r),T.d(),X=!1,re(F)}}}function xl(e){let t,l,r,f=e[8],u,o,d,h,b,i,m,w=e[11].t("Documents")+"",k,x,L,N,E,A=e[2].length+"",y,P,$,rt,O,K='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',J,j,st,ut,et,C,H,mt,ot,tt,X,F,W,c,T,z,R,B=e[11].t("Use '#' in the prompt input to load and select your documents.")+"",lt,M,U,Y,D,Z,nt,kt,bt=e[11].t("Import Documents Mapping")+"",Tt,Dt,gt,Vt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',At,_t,It,jt=e[11].t("Export Documents Mapping")+"",$t,Ft,St,Xt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',wt,ce,pe;fe.title=t=`
		`+e[11].t("Documents")+" | "+e[12]+`
	`;let dt=e[9]&&Le(e),Et=Ne(e);function Qe(v){e[20](v)}let ge={uploadDoc:e[18]};e[6]!==void 0&&(ge.show=e[6]),o=new gl({props:ge}),Qt.push(()=>ie(o,"show",Qe));let ft=e[5].length>0&&Ce(e),zt=se(e[10]),at=[];for(let v=0;v<zt.length;v+=1)at[v]=Ue(Me(e,zt,v));const Xe=v=>pt(at[v],1,1,()=>{at[v]=null});return{c(){l=V(),dt&&dt.c(),r=V(),Et.c(),u=V(),Nt(o.$$.fragment),h=V(),b=g("div"),i=g("div"),m=g("div"),k=G(w),x=V(),L=g("div"),N=V(),E=g("span"),y=G(A),P=V(),$=g("div"),rt=g("div"),O=g("div"),O.innerHTML=K,J=V(),j=g("input"),ut=V(),et=g("div"),C=g("button"),H=yt("svg"),mt=yt("path"),tt=V(),X=g("hr"),F=V(),ft&&ft.c(),W=V(),c=g("div");for(let v=0;v<at.length;v+=1)at[v].c();T=V(),z=g("div"),R=G("ⓘ "),lt=G(B),M=V(),U=g("div"),Y=g("div"),D=g("input"),Z=V(),nt=g("button"),kt=g("div"),Tt=G(bt),Dt=V(),gt=g("div"),gt.innerHTML=Vt,At=V(),_t=g("button"),It=g("div"),$t=G(jt),Ft=V(),St=g("div"),St.innerHTML=Xt,this.h()},l(v){We("svelte-vxyf60",fe.head).forEach(n),l=S(v),dt&&dt.l(v),r=S(v),Et.l(v),u=S(v),Ct(o.$$.fragment,v),h=S(v),b=_(v,"DIV",{class:!0});var Mt=p(b);i=_(Mt,"DIV",{class:!0});var vt=p(i);m=_(vt,"DIV",{class:!0});var Ot=p(m);k=Q(Ot,w),x=S(Ot),L=_(Ot,"DIV",{class:!0}),p(L).forEach(n),N=S(Ot),E=_(Ot,"SPAN",{class:!0});var _e=p(E);y=Q(_e,A),_e.forEach(n),Ot.forEach(n),vt.forEach(n),Mt.forEach(n),P=S(v),$=_(v,"DIV",{class:!0});var Yt=p($);rt=_(Yt,"DIV",{class:!0});var Zt=p(rt);O=_(Zt,"DIV",{class:!0,"data-svelte-h":!0}),qt(O)!=="svelte-v38fm1"&&(O.innerHTML=K),J=S(Zt),j=_(Zt,"INPUT",{class:!0,placeholder:!0}),Zt.forEach(n),ut=S(Yt),et=_(Yt,"DIV",{});var be=p(et);C=_(be,"BUTTON",{class:!0,"aria-label":!0});var we=p(C);H=xt(we,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var ke=p(H);mt=xt(ke,"path",{d:!0}),p(mt).forEach(n),ke.forEach(n),we.forEach(n),be.forEach(n),Yt.forEach(n),tt=S(v),X=_(v,"HR",{class:!0}),F=S(v),ft&&ft.l(v),W=S(v),c=_(v,"DIV",{class:!0});var ye=p(c);for(let de=0;de<at.length;de+=1)at[de].l(ye);ye.forEach(n),T=S(v),z=_(v,"DIV",{class:!0});var ue=p(z);R=Q(ue,"ⓘ "),lt=Q(ue,B),ue.forEach(n),M=S(v),U=_(v,"DIV",{class:!0});var xe=p(U);Y=_(xe,"DIV",{class:!0});var Rt=p(Y);D=_(Rt,"INPUT",{id:!0,type:!0,accept:!0}),Z=S(Rt),nt=_(Rt,"BUTTON",{class:!0});var Kt=p(nt);kt=_(Kt,"DIV",{class:!0});var De=p(kt);Tt=Q(De,bt),De.forEach(n),Dt=S(Kt),gt=_(Kt,"DIV",{class:!0,"data-svelte-h":!0}),qt(gt)!=="svelte-aqr4dt"&&(gt.innerHTML=Vt),Kt.forEach(n),At=S(Rt),_t=_(Rt,"BUTTON",{class:!0});var te=p(_t);It=_(te,"DIV",{class:!0});var Ee=p(It);$t=Q(Ee,jt),Ee.forEach(n),Ft=S(te),St=_(te,"DIV",{class:!0,"data-svelte-h":!0}),qt(St)!=="svelte-1n7zye"&&(St.innerHTML=Xt),te.forEach(n),Rt.forEach(n),xe.forEach(n),this.h()},h(){s(L,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-200 dark:bg-gray-700"),s(E,"class","text-lg font-medium text-gray-500 dark:text-gray-300"),s(m,"class","flex md:self-center text-lg font-medium px-0.5"),s(i,"class","flex justify-between items-center"),s(b,"class","mb-3"),s(O,"class","self-center ml-1 mr-3"),s(j,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),s(j,"placeholder",st=e[11].t("Search Documents")),s(rt,"class","flex flex-1"),s(mt,"d","M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"),s(H,"xmlns","http://www.w3.org/2000/svg"),s(H,"viewBox","0 0 16 16"),s(H,"fill","currentColor"),s(H,"class","w-4 h-4"),s(C,"class","px-2 py-2 rounded-xl border border-gray-200 dark:border-gray-600 dark:border-0 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition font-medium text-sm flex items-center space-x-1"),s(C,"aria-label",ot=e[11].t("Add Docs")),s($,"class","flex w-full space-x-2"),s(X,"class","dark:border-gray-850 my-2.5"),s(c,"class","my-3 mb-5"),s(z,"class","text-gray-500 text-xs mt-1 mb-2"),s(D,"id","documents-import-input"),s(D,"type","file"),s(D,"accept",".json"),D.hidden=!0,s(kt,"class","self-center mr-2 font-medium line-clamp-1"),s(gt,"class","self-center"),s(nt,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),s(It,"class","self-center mr-2 font-medium line-clamp-1"),s(St,"class","self-center"),s(_t,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),s(Y,"class","flex space-x-2"),s(U,"class","flex justify-end w-full mb-2")},m(v,I){q(v,l,I),dt&&dt.m(v,I),q(v,r,I),Et.m(v,I),q(v,u,I),Ht(o,v,I),q(v,h,I),q(v,b,I),a(b,i),a(i,m),a(m,k),a(m,x),a(m,L),a(m,N),a(m,E),a(E,y),q(v,P,I),q(v,$,I),a($,rt),a(rt,O),a(rt,J),a(rt,j),Gt(j,e[0]),a($,ut),a($,et),a(et,C),a(C,H),a(H,mt),q(v,tt,I),q(v,X,I),q(v,F,I),ft&&ft.m(v,I),q(v,W,I),q(v,c,I);for(let Mt=0;Mt<at.length;Mt+=1)at[Mt]&&at[Mt].m(c,null);q(v,T,I),q(v,z,I),a(z,R),a(z,lt),q(v,M,I),q(v,U,I),a(U,Y),a(Y,D),e[30](D),a(Y,Z),a(Y,nt),a(nt,kt),a(kt,Tt),a(nt,Dt),a(nt,gt),a(Y,At),a(Y,_t),a(_t,It),a(It,$t),a(_t,Ft),a(_t,St),wt=!0,ce||(pe=[ht(j,"input",e[21]),ht(C,"click",e[22]),ht(D,"change",e[31]),ht(D,"change",e[32]),ht(nt,"click",e[33]),ht(_t,"click",e[34])],ce=!0)},p(v,I){(!wt||I[0]&6144)&&t!==(t=`
		`+v[11].t("Documents")+" | "+v[12]+`
	`)&&(fe.title=t),v[9]?dt?(dt.p(v,I),I[0]&512&&ct(dt,1)):(dt=Le(v),dt.c(),ct(dt,1),dt.m(r.parentNode,r)):dt&&(ee(),pt(dt,1,1,()=>{dt=null}),le()),I[0]&256&&Wt(f,f=v[8])?(ee(),pt(Et,1,1,ve),le(),Et=Ne(v),Et.c(),ct(Et,1),Et.m(u.parentNode,u)):Et.p(v,I);const Mt={};if(!d&&I[0]&64&&(d=!0,Mt.show=v[6],ae(()=>d=!1)),o.$set(Mt),(!wt||I[0]&2048)&&w!==(w=v[11].t("Documents")+"")&&it(k,w),(!wt||I[0]&4)&&A!==(A=v[2].length+"")&&it(y,A),(!wt||I[0]&2048&&st!==(st=v[11].t("Search Documents")))&&s(j,"placeholder",st),I[0]&1&&j.value!==v[0]&&Gt(j,v[0]),(!wt||I[0]&2048&&ot!==(ot=v[11].t("Add Docs")))&&s(C,"aria-label",ot),v[5].length>0?ft?(ft.p(v,I),I[0]&32&&ct(ft,1)):(ft=Ce(v),ft.c(),ct(ft,1),ft.m(W.parentNode,W)):ft&&(ee(),pt(ft,1,1,()=>{ft=null}),le()),I[0]&68992){zt=se(v[10]);let vt;for(vt=0;vt<zt.length;vt+=1){const Ot=Me(v,zt,vt);at[vt]?(at[vt].p(Ot,I),ct(at[vt],1)):(at[vt]=Ue(Ot),at[vt].c(),ct(at[vt],1),at[vt].m(c,null))}for(ee(),vt=zt.length;vt<at.length;vt+=1)Xe(vt);le()}(!wt||I[0]&2048)&&B!==(B=v[11].t("Use '#' in the prompt input to load and select your documents.")+"")&&it(lt,B),(!wt||I[0]&2048)&&bt!==(bt=v[11].t("Import Documents Mapping")+"")&&it(Tt,bt),(!wt||I[0]&2048)&&jt!==(jt=v[11].t("Export Documents Mapping")+"")&&it($t,jt)},i(v){if(!wt){ct(dt),ct(Et),ct(o.$$.fragment,v),ct(ft);for(let I=0;I<zt.length;I+=1)ct(at[I]);wt=!0}},o(v){pt(dt),pt(Et),pt(o.$$.fragment,v),pt(ft),at=at.filter(Boolean);for(let I=0;I<at.length;I+=1)pt(at[I]);wt=!1},d(v){v&&(n(l),n(r),n(u),n(h),n(b),n(P),n($),n(tt),n(X),n(F),n(W),n(c),n(T),n(z),n(M),n(U)),dt&&dt.d(v),Et.d(v),Ut(o,v),ft&&ft.d(v),$e(at,v),e[30](null),ce=!1,re(pe)}}}const Dl=e=>(e==null?void 0:e.selected)==="checked",Ae=e=>(e==null?void 0:e.selected)==="checked",Oe=e=>(e==null?void 0:e.selected)==="checked",je=e=>(e==null?void 0:e.selected)==="checked",Fe=e=>(e==null?void 0:e.selected)==="checked";function El(e,t,l){let r,f,u,o;Jt(e,Lt,c=>l(2,r=c)),Jt(e,Ke,c=>l(12,u=c)),Jt(e,tl,c=>l(13,o=c));const{saveAs:d}=Ze,h=he("i18n");Jt(e,h,c=>l(11,f=c));let b="",i="",m,w=[],k=!1,x=!1,L,N="",E=!1;const A=async c=>{await Ve(localStorage.token,c),await Lt.set(await Pt(localStorage.token))},y=async c=>{await Promise.all(c.map(async T=>await Ve(localStorage.token,T.name))),await Lt.set(await Pt(localStorage.token))},P=async(c,T)=>{if(console.log(c),["audio/mpeg","audio/wav","audio/ogg","audio/x-m4a"].includes(c.type)){const B=await ol(localStorage.token,c).catch(lt=>(Bt.error(lt),null));if(B){console.log(B);const lt=new Blob([B.text],{type:"text/plain"});c=al(lt,`${c.name}.txt`)}}const z=await ll(localStorage.token,c).catch(B=>(Bt.error(B),null)),R=await sl(localStorage.token,z.id).catch(B=>(Bt.error(B),null));R&&(await Se(localStorage.token,R.collection_name,R.filename,rl(R.filename),R.filename,(T==null?void 0:T.length)>0?{tags:T}:null).catch(B=>(Bt.error(B),null)),await Lt.set(await Pt(localStorage.token)))};me(()=>{Lt.subscribe(B=>{l(5,w=B.reduce((lt,M,U,Y)=>{var D;return[...new Set([...lt,...(((D=M==null?void 0:M.content)==null?void 0:D.tags)??[]).map(Z=>Z.name)])]},[]))});const c=document.querySelector("body"),T=B=>{B.preventDefault(),l(9,E=!0)},z=()=>{l(9,E=!1)},R=async B=>{var lt,M;if(B.preventDefault(),(lt=B.dataTransfer)!=null&&lt.files){let U=new FileReader;U.onload=D=>{files=[...files,{type:"image",url:`${D.target.result}`}]};const Y=(M=B.dataTransfer)==null?void 0:M.files;if(Y&&Y.length>0)for(const D of Y)console.log(D,D.name.split(".").at(-1)),ze.includes(D.type)||qe.includes(D.name.split(".").at(-1))||Bt.error(`Unknown File Type '${D.type}', but accepting and treating as plain text`),P(D);else Bt.error(f.t("File not found."))}l(9,E=!1)};return c==null||c.addEventListener("dragover",T),c==null||c.addEventListener("drop",R),c==null||c.addEventListener("dragleave",z),()=>{c==null||c.removeEventListener("dragover",T),c==null||c.removeEventListener("drop",R),c==null||c.removeEventListener("dragleave",z)}});let $;function rt(c){x=c,l(7,x)}function O(c){k=c,l(6,k)}function K(){i=this.value,l(0,i)}const J=()=>{l(6,k=!0)},j=c=>{c.detail==="checked"?l(10,$=$.map(T=>({...T,selected:"checked"}))):c.detail==="unchecked"&&l(10,$=$.map(T=>({...T,selected:"unchecked"})))},st=async()=>{l(1,N="")},ut=async c=>{l(1,N=c)},et=async()=>{y($.filter(c=>c.selected==="checked"))},C=async(c,T)=>{T.stopPropagation(),l(7,x=!x),l(8,L=c)},H=(c,T)=>{T.stopPropagation(),A(c.name)},mt=(c,T,z)=>{(c==null?void 0:c.selected)==="checked"?l(10,T[z].selected="unchecked",$):l(10,T[z].selected="checked",$)};function ot(c){Qt[c?"unshift":"push"](()=>{m=c,l(4,m)})}function tt(){b=this.files,l(3,b)}const X=()=>{console.log(b);const c=new FileReader;c.onload=async T=>{const z=JSON.parse(T.target.result);console.log(z);for(const R of z)await Se(localStorage.token,R.collection_name,R.filename,R.name,R.title,R.content).catch(B=>(Bt.error(B),null));await Lt.set(await Pt(localStorage.token))},c.readAsText(b[0])},F=()=>{m.click()},W=async()=>{let c=new Blob([JSON.stringify(r)],{type:"application/json"});d(c,`documents-mapping-export-${Date.now()}.json`)};return e.$$.update=()=>{e.$$.dirty[0]&7&&l(10,$=r.filter(c=>{var T;return(N===""||(((T=c==null?void 0:c.content)==null?void 0:T.tags)??[]).map(z=>z.name).includes(N))&&(i===""||c.name.includes(i))}))},[i,N,r,b,m,w,k,x,L,E,$,f,u,o,d,h,A,y,P,rt,O,K,J,j,st,ut,et,C,H,mt,ot,tt,X,F,W]}class Il extends ne{constructor(t){super(),oe(this,t,El,xl,Wt,{},null,[-1,-1])}}function Tl(e){let t,l;return t=new Il({}),{c(){Nt(t.$$.fragment)},l(r){Ct(t.$$.fragment,r)},m(r,f){Ht(t,r,f),l=!0},p:ve,i(r){l||(ct(t.$$.fragment,r),l=!0)},o(r){pt(t.$$.fragment,r),l=!1},d(r){Ut(t,r)}}}class Rl extends ne{constructor(t){super(),oe(this,t,null,Tl,Wt,{})}}export{Rl as component};
//# sourceMappingURL=12.Bt1GXUSz.js.map
